"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[6951],{6951:function(e,a,l){l.r(a),l.d(a,{default:function(){return S}});var t=l(6768),o=l(4232),s=l(5130);const r=e=>((0,t.Qi)("data-v-1ada84df"),e=e(),(0,t.jt)(),e),d={class:"list"},i={key:0},n=(0,t.Fv)('<div class="form-group" data-v-1ada84df><label class="form-control skeleton-text skeleton-animate" data-v-1ada84df></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ada84df></div><div class="form-group" data-v-1ada84df><label class="form-control skeleton-text skeleton-animate" data-v-1ada84df></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ada84df></div><div class="form-group" data-v-1ada84df><label class="form-control skeleton-text skeleton-animate" data-v-1ada84df></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ada84df></div>',3),u=[n],c={key:1,class:"col-md-12"},m={class:"form-group d-inline-flex align-items-center col-5 mb-2"},p=r((()=>(0,t.Lk)("label",{for:"group_number"},"Номер группы:",-1))),f={class:"form-group d-inline-flex align-items-center col-5 mb-2"},g=r((()=>(0,t.Lk)("label",{for:"group_dir_id"},"Направление:",-1))),b=["value"],v={class:"form-group d-inline-flex align-items-center col-10 mb-2"},k=r((()=>(0,t.Lk)("label",{for:"group_prof_id"},"Профиль:",-1))),_=["value"],h={class:"form-group d-inline-flex align-items-center col-5 mb-2"},y=r((()=>(0,t.Lk)("label",{for:"course"},"Курс:",-1))),V=["value"],F={class:"form-group d-inline-flex align-items-center col-5 mb-2"},x=r((()=>(0,t.Lk)("label",{for:"magister"},"Магистратура:",-1))),L=r((()=>(0,t.Lk)("label",{for:"magister2"},"Нет",-1))),C=r((()=>(0,t.Lk)("label",{for:"magister1"},"Да",-1))),E={class:"form-group mt-3"},w=["disabled"],A={class:"spinner-border spinner-border-sm"};function X(e,a,l,r,n,X){const D=(0,t.g2)("Field"),I=(0,t.g2)("ErrorMessage"),U=(0,t.g2)("Select2"),G=(0,t.g2)("router-link"),j=(0,t.g2)("Form");return(0,t.uX)(),(0,t.CE)("div",d,[n.dataLoading?((0,t.uX)(),(0,t.CE)("div",i,u)):((0,t.uX)(),(0,t.CE)("div",c,[(0,t.bF)(j,{onSubmit:X.addGroup,"validation-schema":n.schema},{default:(0,t.k6)((({errors:l})=>[(0,t.Lk)("div",null,[(0,t.Lk)("div",m,[p,(0,t.bF)(D,{name:"group_number",type:"text",class:(0,o.C4)(["form-control",{"is-invalid":l.group_number}])},null,8,["class"]),(0,t.bF)(I,{name:"group_number",class:"error-feedback"})]),(0,t.Lk)("div",f,[g,(0,t.bF)(U,{class:(0,o.C4)(["col-5",{"form-control is-invalid":l.group_dir_id}]),modelValue:n.myValue,"onUpdate:modelValue":a[0]||(a[0]=e=>n.myValue=e),options:n.directions,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,t.bF)(D,{name:"group_dir_id",as:"select",modelValue:n.myValue,"onUpdate:modelValue":a[1]||(a[1]=e=>n.myValue=e),hidden:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(n.directions,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e.id},(0,o.v_)(e.text),9,b)))),128))])),_:1},8,["modelValue"]),(0,t.bF)(I,{name:"group_dir_id",class:"error-feedback"})]),(0,t.Lk)("div",v,[k,(0,t.bF)(U,{class:(0,o.C4)(["col-5",{"form-control is-invalid":l.group_prof_id}]),modelValue:e.myValue2,"onUpdate:modelValue":a[2]||(a[2]=a=>e.myValue2=a),options:n.profiles,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,t.bF)(D,{name:"group_prof_id",as:"select",modelValue:e.myValue2,"onUpdate:modelValue":a[3]||(a[3]=a=>e.myValue2=a),hidden:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(n.profiles,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e.id},(0,o.v_)(e.text),9,_)))),128))])),_:1},8,["modelValue"]),(0,t.bF)(I,{name:"group_prof_id",class:"error-feedback"})]),(0,t.Lk)("div",h,[y,(0,t.bF)(U,{class:(0,o.C4)(["col-5",{"form-control is-invalid":l.course}]),modelValue:e.myValue3,"onUpdate:modelValue":a[4]||(a[4]=a=>e.myValue3=a),options:n.courses,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,t.bF)(D,{name:"course",as:"select",modelValue:e.myValue3,"onUpdate:modelValue":a[5]||(a[5]=a=>e.myValue3=a),hidden:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(n.courses,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e.id},(0,o.v_)(e.text),9,V)))),128))])),_:1},8,["modelValue"]),(0,t.bF)(I,{name:"course",class:"error-feedback"})]),(0,t.Lk)("div",F,[x,(0,t.bF)(D,{name:"magister",type:"radio",id:"magister2",value:"false",class:(0,o.C4)(["form-check-input mt-0 ml-5",{"is-invalid":l.magister}])},null,8,["class"]),L,(0,t.bF)(D,{name:"magister",type:"radio",id:"magister1",value:"true",class:(0,o.C4)(["form-check-input mt-0",{"is-invalid":l.magister}])},null,8,["class"]),C,(0,t.bF)(I,{name:"magister",class:"error-feedback"})]),(0,t.Lk)("div",E,[(0,t.bF)(G,{to:"/groups",class:"btn btn-secondary ml-2 float-start"},{default:(0,t.k6)((()=>[(0,t.eW)("Отмена")])),_:1}),(0,t.Lk)("button",{class:"btn btn-primary btn-block float-end",disabled:n.loading},[(0,t.bo)((0,t.Lk)("span",A,null,512),[[s.aG,n.loading]]),(0,t.eW)(" Добавить группу ")],8,w)])])])),_:1},8,["onSubmit","validation-schema"]),n.message?((0,t.uX)(),(0,t.CE)("div",{key:0,class:(0,o.C4)(["alert",n.successful?"alert-success":"alert-danger"])},(0,o.v_)(n.message),3)):(0,t.Q3)("",!0)]))])}var D=l(482),I=l(9041),U=l(619),G=l(7411),j={setup(){const e=(0,G.dj)();return{toast:e}},name:"AddGroup",components:{Form:D.lV,Field:D.D0,ErrorMessage:D.Kw},data(){const e=I.Ik().shape({});return{successful:!1,loading:!1,dataLoading:!0,message:"",schema:e,groups:null,profiles:null,directions:null,courses:[{id:"1",text:"1"},{id:"2",text:"2"},{id:"3",text:"3"},{id:"4",text:"4"}],myValue:""}},computed:{},mounted(){},methods:{async addGroup(e){try{this.loading=!0;const a=await U.A.addGroup(e.group_dir_id,e.group_prof_id,e.group_number,e.course,e.magister);a.data,this.loading=!1,this.successful=!0,this.toast.success("Успешно добавили группу!")}catch(a){this.message="Ошибка",this.toast.error("Ошибка добавления группы"),console.error("Error:",a)}},async loadDirectionsData(){try{const e=await U.A.getDirectionsAsIdText();this.directions=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error:",e)}},async loadProfilesData(){try{const e=await U.A.getProfilesAsIdText();this.profiles=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error:",e)}}},created(){this.loadDirectionsData(),this.loadProfilesData()}},K=l(1241);const P=(0,K.A)(j,[["render",X],["__scopeId","data-v-1ada84df"]]);var S=P}}]);
//# sourceMappingURL=6951.dbd72823.js.map