"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[7196],{7196:function(e,a,t){t.r(a),t.d(a,{default:function(){return I}});var s=t(6768),l=t(4232),o=t(5130);const d=e=>((0,s.Qi)("data-v-77bdd6ee"),e=e(),(0,s.jt)(),e),r={class:"list"},n={key:0},i=(0,s.Fv)('<div class="form-group" data-v-77bdd6ee><label class="form-control skeleton-text skeleton-animate" data-v-77bdd6ee></label><input type="text" class="form-control skeleton skeleton-animate" data-v-77bdd6ee></div><div class="form-group" data-v-77bdd6ee><label class="form-control skeleton-text skeleton-animate" data-v-77bdd6ee></label><input type="text" class="form-control skeleton skeleton-animate" data-v-77bdd6ee></div><div class="form-group" data-v-77bdd6ee><label class="form-control skeleton-text skeleton-animate" data-v-77bdd6ee></label><input type="text" class="form-control skeleton skeleton-animate" data-v-77bdd6ee></div>',3),u=[i],c={key:1,class:"col-md-12"},m={class:"d-flex flex-wrap"},b={class:"form-group col-12 d-inline-flex align-items-center mb-2"},p=d((()=>(0,s.Lk)("label",{for:"teacher_id"},"Преподаватель:",-1))),g=["value"],h={class:"form-group d-inline-flex align-items-center mb-2"},v=d((()=>(0,s.Lk)("label",{for:"group_id"},"Группа:",-1))),k=["value"],f={class:"form-group col-12 d-inline-flex align-items-center mb-2"},y=d((()=>(0,s.Lk)("label",{for:"subject_id"},"Предмет:",-1))),_=["value"],V={class:"form-group mt-3"},j=["disabled"],F={class:"spinner-border spinner-border-sm"};function x(e,a,t,d,i,x){const C=(0,s.g2)("Select2"),E=(0,s.g2)("Field"),L=(0,s.g2)("ErrorMessage"),A=(0,s.g2)("router-link"),w=(0,s.g2)("Form");return(0,s.uX)(),(0,s.CE)("div",r,[i.dataLoading?((0,s.uX)(),(0,s.CE)("div",n,u)):((0,s.uX)(),(0,s.CE)("div",c,[(0,s.bF)(w,{onSubmit:x.addTegrsu,"validation-schema":i.schema},{default:(0,s.k6)((({errors:t})=>[(0,s.Lk)("div",null,[(0,s.Lk)("div",m,[(0,s.Lk)("div",b,[p,(0,s.bF)(C,{class:(0,l.C4)({"form-control is-invalid":t.teacher_id}),modelValue:i.myValue,"onUpdate:modelValue":a[0]||(a[0]=e=>i.myValue=e),options:e.teachers,settings:{theme:"bootstrap-5",width:"300%"}},null,8,["class","modelValue","options"]),(0,s.bF)(E,{name:"teacher_id",as:"select",modelValue:i.myValue,"onUpdate:modelValue":a[1]||(a[1]=e=>i.myValue=e),hidden:""},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.teachers,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,l.v_)(e.text),9,g)))),128))])),_:1},8,["modelValue"]),(0,s.bF)(L,{name:"teacher_id",class:"error-feedback"})]),(0,s.Lk)("div",h,[v,(0,s.bF)(C,{class:(0,l.C4)({"form-control is-invalid":t.group_id}),modelValue:e.myValue2,"onUpdate:modelValue":a[2]||(a[2]=a=>e.myValue2=a),options:i.groups,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,s.bF)(E,{name:"group_id",as:"select",modelValue:e.myValue2,"onUpdate:modelValue":a[3]||(a[3]=a=>e.myValue2=a),hidden:""},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.groups,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,l.v_)(e.text),9,k)))),128))])),_:1},8,["modelValue"]),(0,s.bF)(L,{name:"group_id",class:"error-feedback"})]),(0,s.Lk)("div",f,[y,(0,s.bF)(C,{class:(0,l.C4)({"form-control is-invalid":t.subject_id}),modelValue:e.myValue3,"onUpdate:modelValue":a[4]||(a[4]=a=>e.myValue3=a),options:e.subjects,settings:{theme:"bootstrap-5",width:"400%"}},null,8,["class","modelValue","options"]),(0,s.bF)(E,{name:"subject_id",as:"select",modelValue:e.myValue3,"onUpdate:modelValue":a[5]||(a[5]=a=>e.myValue3=a),hidden:""},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.subjects,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,l.v_)(e.text),9,_)))),128))])),_:1},8,["modelValue"]),(0,s.bF)(L,{name:"subject_id",class:"error-feedback"})])]),(0,s.Lk)("div",V,[(0,s.bF)(A,{to:"/tegrsus",class:"btn btn-secondary ml-2 float-start"},{default:(0,s.k6)((()=>[(0,s.eW)("Отмена")])),_:1}),(0,s.Lk)("button",{class:"btn btn-primary btn-block float-end",disabled:i.loading},[(0,s.bo)((0,s.Lk)("span",F,null,512),[[o.aG,i.loading]]),(0,s.eW)(" Добавить связь ")],8,j)])])])),_:1},8,["onSubmit","validation-schema"]),i.message?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,l.C4)(["alert",i.successful?"alert-success":"alert-danger"])},(0,l.v_)(i.message),3)):(0,s.Q3)("",!0)]))])}var C=t(482),E=t(9041),L=t(619),A=t(7411),w={setup(){const e=(0,A.dj)();return{toast:e}},name:"AddTegrsu",components:{Form:C.lV,Field:C.D0,ErrorMessage:C.Kw},data(){const e=E.Ik().shape({group_id:E.Yj().required("Требуется указать группу"),subject_id:E.Yj().required("Требуется указать предмет")});return{successful:!1,loading:!1,dataLoading:!0,message:"",schema:e,groups:null,myValue:""}},computed:{},mounted(){},methods:{async addTegrsu(e){try{this.loading=!0;const a=await L.A.addTegrsu(e.tegrsu_teacher_id,e.tegrsu_group_id,e.tegrsu_subject_id);a.data,this.loading=!1,this.successful=!0,this.toast.success("Успешно добавили связь!")}catch(a){this.message="Ошибка",this.toast.error("Ошибка добавления связи"),console.error("Error updating student details:",a)}},async loadTeachersData(){try{const e=await L.A.getTeachersAsIdText();this.teachers=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error loading groups data:",e)}},async loadGroupsData(){try{const e=await L.A.getGroupsAsIdText();this.groups=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error loading groups data:",e)}},async loadSubjectsData(){try{const e=await L.A.getSubjectsAsIdText();this.subjects=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error loading subjects data:",e)}}},created(){this.loadTeachersData(),this.loadGroupsData(),this.loadSubjectsData()}},T=t(1241);const X=(0,T.A)(w,[["render",x],["__scopeId","data-v-77bdd6ee"]]);var I=X}}]);
//# sourceMappingURL=7196.22bc1a46.js.map