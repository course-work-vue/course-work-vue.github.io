"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[7471],{7471:function(a,e,s){s.r(e),s.d(e,{default:function(){return S}});var t=s(6768),r=s(4232),o=s(5130);const l=a=>((0,t.Qi)("data-v-645e2a74"),a=a(),(0,t.jt)(),a),n={class:"list"},d={key:0},c=(0,t.Fv)('<div class="form-group" data-v-645e2a74><label class="form-control skeleton-text skeleton-animate" data-v-645e2a74></label><input type="text" class="form-control skeleton skeleton-animate" data-v-645e2a74></div><div class="form-group" data-v-645e2a74><label class="form-control skeleton-text skeleton-animate" data-v-645e2a74></label><input type="text" class="form-control skeleton skeleton-animate" data-v-645e2a74></div><div class="form-group" data-v-645e2a74><label class="form-control skeleton-text skeleton-animate" data-v-645e2a74></label><input type="text" class="form-control skeleton skeleton-animate" data-v-645e2a74></div>',3),i=[c],u={key:1,class:"col-md-12"},m={class:"form-group"},v=l((()=>(0,t.Lk)("label",{for:"required_amount"},"Стоимость обучения",-1))),b={class:"form-group"},k=l((()=>(0,t.Lk)("label",{for:"program_name"},"Название программы",-1))),f={class:"form-group"},p=l((()=>(0,t.Lk)("label",{for:"hours"},"Часы",-1))),g={class:"form-group"},_=l((()=>(0,t.Lk)("label",{for:"start_date"},"Начало обучения",-1))),h={class:"form-group"},F=l((()=>(0,t.Lk)("label",{for:"end_date"},"Конец обучния",-1))),y={class:"form-group mt-3"},L=["disabled"],C={class:"spinner-border spinner-border-sm"};function x(a,e,s,l,c,x){const E=(0,t.g2)("Field"),w=(0,t.g2)("ErrorMessage"),q=(0,t.g2)("router-link"),j=(0,t.g2)("Form");return(0,t.uX)(),(0,t.CE)("div",n,[c.dataLoading?((0,t.uX)(),(0,t.CE)("div",d,i)):((0,t.uX)(),(0,t.CE)("div",u,[(0,t.bF)(j,{onSubmit:x.addProgram,"validation-schema":c.schema},{default:(0,t.k6)((({errors:a})=>[(0,t.Lk)("div",null,[(0,t.Lk)("div",m,[v,(0,t.bF)(E,{name:"required_amount",type:"number",value:"",class:(0,r.C4)(["form-control",{"is-invalid":a.required_amount}])},null,8,["class"]),(0,t.bF)(w,{name:"required_amount",class:"error-feedback"})]),(0,t.Lk)("div",b,[k,(0,t.bF)(E,{name:"program_name",type:"text",class:(0,r.C4)(["form-control",{"is-invalid":a.program_name}]),value:""},null,8,["class"]),(0,t.bF)(w,{name:"program_name",class:"error-feedback"})]),(0,t.Lk)("div",f,[p,(0,t.bF)(E,{name:"hours",type:"number",class:(0,r.C4)(["form-control",{"is-invalid":a.hours}]),value:""},null,8,["class"]),(0,t.bF)(w,{name:"hours",class:"error-feedback"})]),(0,t.Lk)("div",g,[_,(0,t.bF)(E,{name:"start_date",type:"date",class:(0,r.C4)(["form-control",{"is-invalid":a.start_date}]),value:""},null,8,["class"]),(0,t.bF)(w,{name:"start_date",class:"error-feedback"})]),(0,t.Lk)("div",h,[F,(0,t.bF)(E,{name:"end_date",type:"date",class:(0,r.C4)(["form-control",{"is-invalid":a.end_date}]),value:""},null,8,["class"]),(0,t.bF)(w,{name:"end_date",class:"error-feedback"})]),(0,t.Lk)("div",y,[(0,t.Lk)("button",{class:"btn btn-primary btn-block",disabled:c.loading},[(0,t.bo)((0,t.Lk)("span",C,null,512),[[o.aG,c.loading]]),(0,t.eW)(" Добавить программу ")],8,L),(0,t.bF)(q,{to:"/programs",class:"btn btn-secondary ml-2 float-end"},{default:(0,t.k6)((()=>[(0,t.eW)("Отмена")])),_:1})])])])),_:1},8,["onSubmit","validation-schema"]),c.message?((0,t.uX)(),(0,t.CE)("div",{key:0,class:(0,r.C4)(["alert",c.successful?"alert-success":"alert-danger"])},(0,r.v_)(c.message),3)):(0,t.Q3)("",!0)]))])}var E=s(482),w=s(9041),q=s(619),j=s(7411),X={setup(){const a=(0,j.dj)();return{toast:a}},name:"AddStudent",components:{Form:E.lV,Field:E.D0,ErrorMessage:E.Kw},data(){const a=w.Ik().shape({});return{successful:!1,loading:!1,dataLoading:!1,message:"",schema:a,groups:null,myValue:""}},computed:{},mounted(){},methods:{async addProgram(a){try{this.loading=!0;const e=await q.A.addProgram(a.required_amount,a.program_name,a.hours,a.start_date,a.end_date);e.data,this.loading=!1,this.successful=!0,this.toast.success("Успешно добавили программу!")}catch(e){this.message="Ошибка",this.toast.error("Ошибка добавления программы"),console.error("Error",e)}}},created(){}},A=s(1241);const P=(0,A.A)(X,[["render",x],["__scopeId","data-v-645e2a74"]]);var S=P}}]);
//# sourceMappingURL=7471.d1fae576.js.map