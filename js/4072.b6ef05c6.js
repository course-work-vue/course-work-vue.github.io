"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[4072],{4072:function(e,a,s){s.r(a),s.d(a,{default:function(){return W}});var o=s(6768),t=s(4232),r=s(5130);const l=e=>((0,o.Qi)("data-v-1698d192"),e=e(),(0,o.jt)(),e),n={class:"list"},d={key:0},c=(0,o.Fv)('<div class="form-group" data-v-1698d192><label class="form-control skeleton-text skeleton-animate" data-v-1698d192></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1698d192></div><div class="form-group" data-v-1698d192><label class="form-control skeleton-text skeleton-animate" data-v-1698d192></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1698d192></div><div class="form-group" data-v-1698d192><label class="form-control skeleton-text skeleton-animate" data-v-1698d192></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1698d192></div>',3),i=[c],u={key:1,class:"col-md-12"},m={class:"form-group d-inline-flex align-items-center col-5 mb-2"},k=l((()=>(0,o.Lk)("label",{for:"course_work_theme"},"Тема работы:",-1))),_={class:"form-group d-inline-flex align-items-center col-6 mb-2"},p=l((()=>(0,o.Lk)("label",{for:"course_work_teacher_id"},"Руководитель:",-1))),f=["value"],b={class:"form-group d-inline-flex align-items-center col-10 mb-2"},v=l((()=>(0,o.Lk)("label",{for:"course_work_student_id"},"Исполнитель:",-1))),y=["value"],h={class:"form-group d-inline-flex align-items-center col-6 mb-2"},w=l((()=>(0,o.Lk)("label",{for:"course_work_kafedra"},"Кафедра:",-1))),g=["value"],V={class:"form-group d-inline-flex align-items-center col-5 mb-2"},F=l((()=>(0,o.Lk)("label",{for:"course_work_vipysk1"},"Курсовая работа",-1))),C=l((()=>(0,o.Lk)("label",{for:"course_work_vipysk2"},"Выпускная работа",-1))),L={class:"form-group d-inline-flex align-items-center col-5 mb-2"},x=l((()=>(0,o.Lk)("label",{for:"course_work_year"},"Год:",-1))),E={class:"form-group d-inline-flex align-items-center col-3 mb-2"},A=l((()=>(0,o.Lk)("label",{for:"course_work_ocenka"},"Оценка:",-1))),D={class:"form-group mt-3"},X=["disabled"],I={class:"spinner-border spinner-border-sm"};function S(e,a,s,l,c,S){const T=(0,o.g2)("Field"),U=(0,o.g2)("ErrorMessage"),j=(0,o.g2)("Select2"),K=(0,o.g2)("router-link"),G=(0,o.g2)("Form");return(0,o.uX)(),(0,o.CE)("div",n,[c.dataLoading?((0,o.uX)(),(0,o.CE)("div",d,i)):((0,o.uX)(),(0,o.CE)("div",u,[(0,o.bF)(G,{onSubmit:S.addCw,"validation-schema":c.schema},{default:(0,o.k6)((({errors:s})=>[(0,o.Lk)("div",null,[(0,o.Lk)("div",m,[k,(0,o.bF)(T,{name:"course_work_theme",type:"text",class:(0,t.C4)(["form-control",{"is-invalid":s.course_work_theme}])},null,8,["class"]),(0,o.bF)(U,{name:"course_work_theme",class:"error-feedback"})]),(0,o.Lk)("div",_,[p,(0,o.bF)(j,{class:(0,t.C4)(["col-5",{"form-control is-invalid":s.course_work_teacher_id}]),modelValue:c.myValue,"onUpdate:modelValue":a[0]||(a[0]=e=>c.myValue=e),options:c.teachers,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,o.bF)(T,{name:"course_work_teacher_id",as:"select",modelValue:c.myValue,"onUpdate:modelValue":a[1]||(a[1]=e=>c.myValue=e),hidden:""},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(c.teachers,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.id},(0,t.v_)(e.text),9,f)))),128))])),_:1},8,["modelValue"]),(0,o.bF)(U,{name:"course_work_teacher_id",class:"error-feedback"})]),(0,o.Lk)("div",b,[v,(0,o.bF)(j,{class:(0,t.C4)(["col-5",{"form-control is-invalid":s.course_work_student_id}]),modelValue:e.myValue2,"onUpdate:modelValue":a[2]||(a[2]=a=>e.myValue2=a),options:c.students,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,o.bF)(T,{name:"course_work_student_id",as:"select",modelValue:e.myValue2,"onUpdate:modelValue":a[3]||(a[3]=a=>e.myValue2=a),hidden:""},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(c.students,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.id},(0,t.v_)(e.text),9,y)))),128))])),_:1},8,["modelValue"]),(0,o.bF)(U,{name:"course_work_student_id",class:"error-feedback"})]),(0,o.Lk)("div",h,[w,(0,o.bF)(j,{class:(0,t.C4)(["col-6",{"form-control is-invalid":s.course_work_kafedra}]),modelValue:e.myValue3,"onUpdate:modelValue":a[4]||(a[4]=a=>e.myValue3=a),options:c.departaments,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,o.bF)(T,{name:"course_work_kafedra",as:"select",modelValue:e.myValue3,"onUpdate:modelValue":a[5]||(a[5]=a=>e.myValue3=a),hidden:""},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(c.departaments,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.id},(0,t.v_)(e.text),9,g)))),128))])),_:1},8,["modelValue"]),(0,o.bF)(U,{name:"course_work_kafedra",class:"error-feedback"})]),(0,o.Lk)("div",V,[(0,o.bF)(T,{name:"course_work_vipysk",type:"radio",id:"course_work_vipysk1",value:"false",class:(0,t.C4)(["form-check-input mt-0 ml-5",{"is-invalid":s.course_work_vipysk}])},null,8,["class"]),F,(0,o.bF)(T,{name:"course_work_vipysk",type:"radio",id:"course_work_vipysk2",value:"true",class:(0,t.C4)(["form-check-input mt-0",{"is-invalid":s.course_work_vipysk}])},null,8,["class"]),C,(0,o.bF)(U,{name:"magister",class:"error-feedback"})]),(0,o.Lk)("div",L,[x,(0,o.bF)(T,{name:"course_work_year",type:"number",class:(0,t.C4)(["form-control",{"is-invalid":s.course_work_year}])},null,8,["class"]),(0,o.bF)(U,{name:"course_work_year",class:"error-feedback"})]),(0,o.Lk)("div",E,[A,(0,o.bF)(T,{name:"course_work_ocenka",type:"number",class:(0,t.C4)(["form-control",{"is-invalid":s.course_work_ocenka}])},null,8,["class"]),(0,o.bF)(U,{name:"course_work_ocenka",class:"error-feedback"})]),(0,o.Lk)("div",D,[(0,o.bF)(K,{to:"/courseworks",class:"btn btn-secondary ml-2 float-start"},{default:(0,o.k6)((()=>[(0,o.eW)("Отмена")])),_:1}),(0,o.Lk)("button",{class:"btn btn-primary btn-block float-end",disabled:c.loading},[(0,o.bo)((0,o.Lk)("span",I,null,512),[[r.aG,c.loading]]),(0,o.eW)(" Добавить работу ")],8,X)])])])),_:1},8,["onSubmit","validation-schema"]),c.message?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,t.C4)(["alert",c.successful?"alert-success":"alert-danger"])},(0,t.v_)(c.message),3)):(0,o.Q3)("",!0)]))])}var T=s(482),U=s(9041),j=s(619),K=s(7411),G={setup(){const e=(0,K.dj)();return{toast:e}},name:"AddGroup",components:{Form:T.lV,Field:T.D0,ErrorMessage:T.Kw},data(){const e=U.Ik().shape({});return{successful:!1,loading:!1,dataLoading:!0,message:"",schema:e,groups:null,profiles:null,directions:null,teachers:null,students:null,departaments:null,myValue:""}},computed:{},mounted(){},methods:{async addCw(e){try{this.loading=!0;const a=await j.A.addCw(e.course_work_theme,e.course_work_teacher_id,e.course_work_student_id,e.course_work_kafedra,e.course_work_vipysk,e.course_work_year,e.course_work_ocenka);a.data,this.loading=!1,this.successful=!0,this.toast.success("Успешно добавили работу!")}catch(a){this.message="Ошибка",this.toast.error("Ошибка добавления работы"),console.error("Error:",a)}},async loadTeachersData(){try{const e=await j.A.getTeachersAsIdText();this.teachers=Array.isArray(e.data)?e.data:[e.data]}catch(e){console.error("Error:",e)}},async loadStudentsData(){try{const e=await j.A.getStudentsAsIdText();this.students=Array.isArray(e.data)?e.data:[e.data]}catch(e){console.error("Error:",e)}},async loadDepartamentsData(){try{const e=await j.A.getDepartamentsAsIdText();this.departaments=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error:",e)}}},created(){this.loadTeachersData(),this.loadStudentsData(),this.loadDepartamentsData()}},M=s(1241);const Q=(0,M.A)(G,[["render",S],["__scopeId","data-v-1698d192"]]);var W=Q}}]);
//# sourceMappingURL=4072.b6ef05c6.js.map