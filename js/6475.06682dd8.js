"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[6475],{6475:function(e,t,i){i.r(t),i.d(t,{default:function(){return E}});var a=i(6768),o=i(4232),n=i(5130);const d=e=>((0,a.Qi)("data-v-c74b70a0"),e=e(),(0,a.jt)(),e),s={class:"col-md-12 list"},r={key:0},l={class:"form-group d-inline-flex align-items-center col-5 mb-2"},c=d((()=>(0,a.Lk)("label",{for:"dir_name"},"Название направления",-1))),u={class:"form-group d-inline-flex align-items-center col-5 mb-2"},m=d((()=>(0,a.Lk)("label",{for:"dir_code"},"Код направления",-1))),b={class:"form-group mt-3"},h=["disabled"],v={class:"spinner-border spinner-border-sm"},k={class:"form-group float-end"},p={key:1},f=(0,a.Fv)('<div class="form-group" data-v-c74b70a0><label class="form-control skeleton-text skeleton-animate" data-v-c74b70a0></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c74b70a0></div><div class="form-group" data-v-c74b70a0><label class="form-control skeleton-text skeleton-animate" data-v-c74b70a0></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c74b70a0></div>',2),g=[f];function _(e,t,i,d,f,_){const D=(0,a.g2)("Field"),y=(0,a.g2)("ErrorMessage"),F=(0,a.g2)("router-link"),C=(0,a.g2)("Form");return(0,a.uX)(),(0,a.CE)("div",s,[f.direction?((0,a.uX)(),(0,a.CE)("div",r,[(0,a.bF)(C,{onSubmit:_.updateDirection,"validation-schema":f.schema},{default:(0,a.k6)((({errors:e})=>[(0,a.Lk)("div",null,[(0,a.Lk)("div",l,[c,(0,a.bF)(D,{name:"dir_name",type:"text",value:"",class:(0,o.C4)(["form-control",{"is-invalid":e.dir_name}]),modelValue:f.editedDirection.dir_name,"onUpdate:modelValue":t[0]||(t[0]=e=>f.editedDirection.dir_name=e)},null,8,["class","modelValue"]),(0,a.bF)(y,{name:"dir_name",class:"error-feedback"})]),(0,a.Lk)("div",u,[m,(0,a.bF)(D,{name:"dir_code",type:"text",class:(0,o.C4)(["form-control",{"is-invalid":e.dir_code}]),value:"",modelValue:f.editedDirection.dir_code,"onUpdate:modelValue":t[1]||(t[1]=e=>f.editedDirection.dir_code=e)},null,8,["class","modelValue"]),(0,a.bF)(y,{name:"dir_code",class:"error-feedback"})]),(0,a.Lk)("div",b,[(0,a.Lk)("button",{class:"btn btn-primary btn-block float-end",disabled:f.loading},[(0,a.bo)((0,a.Lk)("span",v,null,512),[[n.aG,f.loading]]),(0,a.eW)(" Обновить направление ")],8,h),(0,a.Lk)("div",k,[(0,a.Lk)("button",{type:"button",class:"btn btn-danger float-end",onClick:t[2]||(t[2]=(...e)=>_.deleteDirection&&_.deleteDirection(...e))}," Удалить направление ")]),(0,a.bF)(F,{to:"/directions",class:"btn btn-secondary ml-2 float-start"},{default:(0,a.k6)((()=>[(0,a.eW)("Отмена")])),_:1})])])])),_:1},8,["onSubmit","validation-schema"])])):((0,a.uX)(),(0,a.CE)("div",p,g)),e.message?((0,a.uX)(),(0,a.CE)("div",{key:2,class:(0,o.C4)(["alert",e.successful?"alert-success":"alert-danger"])},(0,o.v_)(e.message),3)):(0,a.Q3)("",!0)])}i(4114);var D=i(482),y=i(9041),F=i(619),C=i(7411),L={setup(){const e=(0,C.dj)();return{toast:e}},components:{Form:D.lV,Field:D.D0,ErrorMessage:D.Kw},data(){const e=y.Ik().shape({});return{schema:e,loading:!1,direction:null,editedDirection:null,groups:null}},methods:{async deleteDirection(){try{this.loading=!0;const e=await F.A.deleteDirectionById(this.direction.dir_id);e.data,this.direction={...this.editedStudent},this.loading=!1,this.toast.success("Успешно удалили!"),this.$router.push("/directions")}catch(e){console.error("Ошибка загрузки данных",e)}},async loadDirectionDetail(){const e=this.$route.params.directionId;try{const t=await F.A.getDirectionById(e);this.direction=t.data,this.editedDirection={...t.data}}catch(t){console.error("Error:",t)}},async updateDirection(){try{this.loading=!0;const e=await F.A.updateDirectionById(this.direction.dir_id,this.editedDirection.dir_name,this.editedDirection.dir_code);e.data,this.student={...this.editedStudent},this.loading=!1,this.toast.success("Успешно обновили направление!")}catch(e){console.error("Ошибка:",e)}}},created(){this.loadDirectionDetail()}},w=i(1241);const x=(0,w.A)(L,[["render",_],["__scopeId","data-v-c74b70a0"]]);var E=x}}]);
//# sourceMappingURL=6475.06682dd8.js.map