"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[3700],{3700:function(e,t,a){a.r(t),a.d(t,{default:function(){return Q}});var o=a(6768),s=a(4232),l=a(5130);const r=e=>((0,o.Qi)("data-v-52c69503"),e=e(),(0,o.jt)(),e),d={class:"col-md-12 list"},c={key:0},n={class:"form-group d-inline-flex align-items-center col-5 mb-2"},i=r((()=>(0,o.Lk)("label",{for:"course_work_theme"},"Тема работы:",-1))),u={class:"form-group d-inline-flex align-items-center col-6 mb-2"},k=r((()=>(0,o.Lk)("label",{for:"course_work_teacher_id"},"Руководитель:",-1))),m=["value"],_={class:"form-group d-inline-flex align-items-center col-10 mb-2"},v=r((()=>(0,o.Lk)("label",{for:"course_work_student_id"},"Исполнитель:",-1))),p=["value"],w={class:"form-group d-inline-flex align-items-center col-6 mb-2"},f=r((()=>(0,o.Lk)("label",{for:"course_work_kafedra"},"Кафедра:",-1))),b=["value"],h={class:"form-group d-inline-flex align-items-center col-5 mb-2"},y=["checked"],C=["checked"],g={class:"form-group d-inline-flex align-items-center col-5 mb-2"},x=r((()=>(0,o.Lk)("label",{for:"course_work_year"},"Год:",-1))),V={class:"form-group d-inline-flex align-items-center col-3 mb-2"},F=r((()=>(0,o.Lk)("label",{for:"course_work_ocenka"},"Оценка:",-1))),L={class:"form-group mt-3"},A=["disabled"],E={class:"spinner-border spinner-border-sm"},D={key:1},I=(0,o.Fv)('<div class="form-group" data-v-52c69503><label class="form-control skeleton-text skeleton-animate" data-v-52c69503></label><input type="text" class="form-control skeleton skeleton-animate" data-v-52c69503></div><div class="form-group" data-v-52c69503><label class="form-control skeleton-text skeleton-animate" data-v-52c69503></label><input type="text" class="form-control skeleton skeleton-animate" data-v-52c69503></div><div class="form-group" data-v-52c69503><label class="form-control skeleton-text skeleton-animate" data-v-52c69503></label><input type="text" class="form-control skeleton skeleton-animate" data-v-52c69503></div><div class="form-group" data-v-52c69503><label class="form-control skeleton-text skeleton-animate" data-v-52c69503></label><input type="text" class="form-control skeleton skeleton-animate" data-v-52c69503></div><div class="form-group" data-v-52c69503><label class="form-control skeleton-text skeleton-animate" data-v-52c69503></label><input type="text" class="form-control skeleton skeleton-animate" data-v-52c69503></div><div class="form-group" data-v-52c69503><label class="form-control skeleton-text skeleton-animate" data-v-52c69503></label><input type="text" class="form-control skeleton skeleton-animate" data-v-52c69503></div><div class="form-group" data-v-52c69503><label class="form-control skeleton-text skeleton-animate" data-v-52c69503></label><input type="text" class="form-control skeleton skeleton-animate" data-v-52c69503></div><div class="form-group" data-v-52c69503><label class="form-control skeleton-text skeleton-animate" data-v-52c69503></label><input type="text" class="form-control skeleton skeleton-animate" data-v-52c69503></div><div class="form-group" data-v-52c69503><label class="form-control skeleton-text skeleton-animate" data-v-52c69503></label><input type="text" class="form-control skeleton skeleton-animate" data-v-52c69503></div><div class="form-group" data-v-52c69503><label class="form-control skeleton-text skeleton-animate" data-v-52c69503></label><input type="text" class="form-control skeleton skeleton-animate" data-v-52c69503></div><div class="form-group" data-v-52c69503><label class="form-control skeleton-text skeleton-animate" data-v-52c69503></label><input type="text" class="form-control skeleton skeleton-animate" data-v-52c69503></div><div class="form-group" data-v-52c69503><label class="form-control skeleton-text skeleton-animate" data-v-52c69503></label><input type="text" class="form-control skeleton skeleton-animate" data-v-52c69503></div><div class="form-group" data-v-52c69503><label class="form-control skeleton-text skeleton-animate" data-v-52c69503></label><input type="text" class="form-control skeleton skeleton-animate" data-v-52c69503></div><div class="form-group" data-v-52c69503><label class="form-control skeleton-text skeleton-animate" data-v-52c69503></label><input type="text" class="form-control skeleton skeleton-animate" data-v-52c69503></div><div class="form-group" data-v-52c69503><label class="form-control skeleton-text skeleton-animate" data-v-52c69503></label><input type="text" class="form-control skeleton skeleton-animate" data-v-52c69503></div><div class="form-group" data-v-52c69503><label class="form-control skeleton-text skeleton-animate" data-v-52c69503></label><input type="text" class="form-control skeleton skeleton-animate" data-v-52c69503></div><div class="form-group" data-v-52c69503><label class="form-control skeleton-text skeleton-animate" data-v-52c69503></label><input type="text" class="form-control skeleton skeleton-animate" data-v-52c69503></div><div class="form-group" data-v-52c69503><label class="form-control skeleton-text skeleton-animate" data-v-52c69503></label><input type="text" class="form-control skeleton skeleton-animate" data-v-52c69503></div>',18),X=[I];function U(e,t,a,r,I,U){const W=(0,o.g2)("Field"),S=(0,o.g2)("ErrorMessage"),T=(0,o.g2)("Select2"),j=(0,o.g2)("router-link"),K=(0,o.g2)("Form");return(0,o.uX)(),(0,o.CE)("div",d,[I.Cw?((0,o.uX)(),(0,o.CE)("div",c,[(0,o.bF)(K,{onSubmit:U.updateCw,"validation-schema":I.schema},{default:(0,o.k6)((({errors:a})=>[(0,o.Lk)("div",null,[(0,o.Lk)("div",n,[i,(0,o.bF)(W,{name:"course_work_theme",type:"text",class:(0,s.C4)(["form-control",{"is-invalid":a.course_work_theme}]),modelValue:I.editedCw.course_work_theme,"onUpdate:modelValue":t[0]||(t[0]=e=>I.editedCw.course_work_theme=e)},null,8,["class","modelValue"]),(0,o.bF)(S,{name:"course_work_theme",class:"error-feedback"})]),(0,o.Lk)("div",u,[k,(0,o.bF)(T,{class:(0,s.C4)(["col-5",{"form-control is-invalid":a.course_work_teacher_id}]),modelValue:I.editedCw.course_work_teacher_id,"onUpdate:modelValue":t[1]||(t[1]=e=>I.editedCw.course_work_teacher_id=e),options:e.teachers,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,o.bF)(W,{name:"course_work_teacher_id",as:"select",modelValue:I.editedCw.course_work_teacher_id,"onUpdate:modelValue":t[2]||(t[2]=e=>I.editedCw.course_work_teacher_id=e),hidden:""},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.teachers,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.text),9,m)))),128))])),_:1},8,["modelValue"]),(0,o.bF)(S,{name:"course_work_teacher_id",class:"error-feedback"})]),(0,o.Lk)("div",_,[v,(0,o.bF)(T,{class:(0,s.C4)(["col-5",{"form-control is-invalid":a.course_work_student_id}]),modelValue:I.editedCw.course_work_student_id,"onUpdate:modelValue":t[3]||(t[3]=e=>I.editedCw.course_work_student_id=e),options:e.students,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,o.bF)(W,{name:"course_work_student_id",as:"select",modelValue:I.editedCw.course_work_student_id,"onUpdate:modelValue":t[4]||(t[4]=e=>I.editedCw.course_work_student_id=e),hidden:""},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.students,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.text),9,p)))),128))])),_:1},8,["modelValue"]),(0,o.bF)(S,{name:"course_work_student_id",class:"error-feedback"})]),(0,o.Lk)("div",w,[f,(0,o.bF)(T,{class:(0,s.C4)(["col-6",{"form-control is-invalid":a.course_work_kafedra}]),modelValue:I.editedCw.course_work_kafedra,"onUpdate:modelValue":t[5]||(t[5]=e=>I.editedCw.course_work_kafedra=e),options:e.departaments,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,o.bF)(W,{name:"course_work_kafedra",as:"select",modelValue:I.editedCw.course_work_kafedra,"onUpdate:modelValue":t[6]||(t[6]=e=>I.editedCw.course_work_kafedra=e),hidden:""},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.departaments,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.text),9,b)))),128))])),_:1},8,["modelValue"]),(0,o.bF)(S,{name:"course_work_kafedra",class:"error-feedback"})]),(0,o.Lk)("div",h,[(0,o.bF)(W,{name:"course_work_vipysk",type:"radio",value:!0},{default:(0,o.k6)((({field2:e})=>[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",(0,o.v6)({type:"radio",name:"course_work_vipysk"},e,{value:"false",class:"form-check-input mt-0 ml-5","onUpdate:modelValue":t[7]||(t[7]=e=>I.editedCw.course_work_vipysk=e),checked:0==I.editedCw.course_work_vipysk}),null,16,y),[[l.XL,I.editedCw.course_work_vipysk]]),(0,o.eW)(" Курсовая работа ")])])),_:1}),(0,o.bF)(S,{name:"course_work_vipysk",class:"error-feedback"}),(0,o.bF)(W,{name:"editedCw.course_work_vipysk",type:"radio",value:!0},{default:(0,o.k6)((({field:e})=>[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",(0,o.v6)({type:"radio",name:"editedCw.course_work_vipysk"},e,{value:"true",class:"form-check-input mt-0 ml-5","onUpdate:modelValue":t[8]||(t[8]=e=>I.editedCw.course_work_vipysk=e),checked:1==I.editedCw.course_work_vipysk}),null,16,C),[[l.XL,I.editedCw.course_work_vipysk]]),(0,o.eW)(" Выпускная работа ")])])),_:1})]),(0,o.Lk)("div",g,[x,(0,o.bF)(W,{name:"course_work_year",type:"number",class:(0,s.C4)(["form-control",{"is-invalid":a.course_work_year}]),modelValue:I.editedCw.course_work_year,"onUpdate:modelValue":t[9]||(t[9]=e=>I.editedCw.course_work_year=e)},null,8,["class","modelValue"]),(0,o.bF)(S,{name:"course_work_year",class:"error-feedback"})]),(0,o.Lk)("div",V,[F,(0,o.bF)(W,{name:"course_work_ocenka",type:"number",class:(0,s.C4)(["form-control",{"is-invalid":a.course_work_ocenka}]),modelValue:I.editedCw.course_work_ocenka,"onUpdate:modelValue":t[10]||(t[10]=e=>I.editedCw.course_work_ocenka=e)},null,8,["class","modelValue"]),(0,o.bF)(S,{name:"course_work_ocenka",class:"error-feedback"})]),(0,o.Lk)("div",L,[(0,o.Lk)("button",{class:"btn btn-primary btn-block float-start",disabled:I.loading},[(0,o.bo)((0,o.Lk)("span",E,null,512),[[l.aG,I.loading]]),(0,o.eW)(" Обновить работу ")],8,A),(0,o.Lk)("button",{type:"button",class:"btn btn-danger mx-2 float-end",onClick:t[11]||(t[11]=(...e)=>U.deleteCW&&U.deleteCW(...e))}," Удалить работу "),(0,o.bF)(j,{to:"/courseworks",class:"btn btn-secondary ml-2 float-end"},{default:(0,o.k6)((()=>[(0,o.eW)("Отмена")])),_:1})])])])),_:1},8,["onSubmit","validation-schema"])])):((0,o.uX)(),(0,o.CE)("div",D,X)),e.message?((0,o.uX)(),(0,o.CE)("div",{key:2,class:(0,s.C4)(["alert",e.successful?"alert-success":"alert-danger"])},(0,s.v_)(e.message),3)):(0,o.Q3)("",!0)])}a(4114);var W=a(482),S=a(9041),T=a(619),j=a(7411),K={setup(){const e=(0,j.dj)();return{toast:e}},components:{Form:W.lV,Field:W.D0,ErrorMessage:W.Kw},data(){const e=S.Ik().shape({});return{schema:e,loading:!1,Cw:null,editedCw:null,profiles:null,directions:null}},methods:{async deleteCW(){try{this.loading=!0;const e=await T.A.deleteCwById(this.Cw.course_work_id);e.data,this.loading=!1,this.toast.success("Успешно удалили!"),this.$router.push("/courseworks")}catch(e){console.error("Ошибка загрузки данных",e)}},async updateCw(){try{this.loading=!0;const e=await T.A.updateCwById(this.Cw.course_work_id,this.editedCw.course_work_theme,this.editedCw.course_work_teacher_id,this.editedCw.course_work_student_id,this.editedCw.course_work_kafedra,this.editedCw.course_work_vipysk,this.editedCw.course_work_year,this.editedCw.course_work_ocenka);e.data,this.Cw={...this.editedCw},this.loading=!1,this.toast.success("Успешно обновили работу!")}catch(e){console.error("Ошибка загрузки данных о работе:",e)}},async loadCwDetail(){const e=this.$route.params.CwId;try{const t=await T.A.getCwById(e);this.Cw=t.data,this.editedCw={...t.data}}catch(t){console.error("Error",t)}},async loadTeachersData(){try{const e=await T.A.getTeachersAsIdText();this.teachers=Array.isArray(e.data)?e.data:[e.data]}catch(e){console.error("Error:",e)}},async loadStudentsData(){try{const e=await T.A.getStudentsAsIdText();this.students=Array.isArray(e.data)?e.data:[e.data]}catch(e){console.error("Error:",e)}},async loadDepartamentsData(){try{const e=await T.A.getDepartamentsAsIdText();this.departaments=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error:",e)}}},async created(){await this.loadDepartamentsData(),await this.loadTeachersData(),await this.loadStudentsData(),await this.loadCwDetail()}},B=a(1241);const M=(0,B.A)(K,[["render",U],["__scopeId","data-v-52c69503"]]);var Q=M}}]);
//# sourceMappingURL=3700.35ab4c90.js.map