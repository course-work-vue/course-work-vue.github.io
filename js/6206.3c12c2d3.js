"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[6206],{6206:function(e,t,a){a.r(t),a.d(t,{default:function(){return I}});var s=a(6768),r=a(4232),l=a(5130);const o=e=>((0,s.Qi)("data-v-c5a7047e"),e=e(),(0,s.jt)(),e),d={class:"col-md-12 list"},i={key:0},u={class:"form-group d-inline-flex align-items-center col-12 mb-2"},c=o((()=>(0,s.Lk)("label",{for:"tegrsu_teacher_id"},"Преподаватель",-1))),n={class:"form-group d-inline-flex align-items-center col-12 mb-2"},g=o((()=>(0,s.Lk)("label",{class:"col-form-label",for:"tegrsu_group_id"},"Группа",-1))),m={class:"form-group d-inline-flex align-items-center col-12 mb-2"},_=o((()=>(0,s.Lk)("label",{for:"tegrsu_subject_id"},"Предмет",-1))),b={class:"form-group mt-3"},h={class:"form-group float-end"},p={class:"form-group mt-3"},v=["disabled"],k={class:"spinner-border spinner-border-sm"},f={key:1},y=(0,s.Fv)('<div class="form-group" data-v-c5a7047e><label class="form-control skeleton-text skeleton-animate" data-v-c5a7047e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c5a7047e></div><div class="form-group" data-v-c5a7047e><label class="form-control skeleton-text skeleton-animate" data-v-c5a7047e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c5a7047e></div><div class="form-group" data-v-c5a7047e><label class="form-control skeleton-text skeleton-animate" data-v-c5a7047e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c5a7047e></div>',3),T=[y];function x(e,t,a,o,y,x){const A=(0,s.g2)("Field"),j=(0,s.g2)("ErrorMessage"),F=(0,s.g2)("router-link"),L=(0,s.g2)("Form");return(0,s.uX)(),(0,s.CE)("div",d,[y.tegrsu?((0,s.uX)(),(0,s.CE)("div",i,[(0,s.bF)(L,{onSubmit:x.updateTegrsu,"validation-schema":y.schema},{default:(0,s.k6)((({errors:a})=>[(0,s.Lk)("div",null,[(0,s.Lk)("div",u,[c,(0,s.bF)(A,{name:"tegrsu_teacher_id",type:"text",class:(0,r.C4)(["form-control",{"is-invalid":a.tegrsu_teacher_id}]),value:"",modelValue:e.editedTergsu.tegrsu_teacher_id,"onUpdate:modelValue":t[0]||(t[0]=t=>e.editedTergsu.tegrsu_teacher_id=t)},null,8,["class","modelValue"]),(0,s.bF)(j,{name:"tegrsu_teacher_id",class:"error-feedback"})]),(0,s.Lk)("div",n,[g,(0,s.bF)(A,{name:"tegrsu_group_id",id:"tegrsu_group_id",type:"text",value:"",class:(0,r.C4)(["form-control",{"is-invalid":a.tegrsu_group_id}]),modelValue:y.editedTegrsu.tegrsu_group_id,"onUpdate:modelValue":t[1]||(t[1]=e=>y.editedTegrsu.tegrsu_group_id=e)},null,8,["class","modelValue"]),(0,s.bF)(j,{name:"tegrsu_group_id",class:"error-feedback"})]),(0,s.Lk)("div",m,[_,(0,s.bF)(A,{name:"tegrsu_subject_id",type:"text",class:(0,r.C4)(["form-control",{"is-invalid":a.tegrsu_subject_id}]),value:"",modelValue:e.editedTergsu.tegrsu_subject_id,"onUpdate:modelValue":t[2]||(t[2]=t=>e.editedTergsu.tegrsu_subject_id=t)},null,8,["class","modelValue"]),(0,s.bF)(j,{name:"tegrsu_subject_id",class:"error-feedback"})]),(0,s.Lk)("div",b,[(0,s.bF)(F,{to:"/tegrsus",class:"mx-2 btn btn-secondary float-start"},{default:(0,s.k6)((()=>[(0,s.eW)("Отмена")])),_:1})]),(0,s.Lk)("div",h,[(0,s.Lk)("button",{class:"btn btn-danger float-end",onClick:t[3]||(t[3]=(...e)=>x.deleteTegrsu&&x.deleteTegrsu(...e))}," Удалить связь с преподавателем ")]),(0,s.Lk)("div",p,[(0,s.Lk)("button",{class:"btn btn-primary btn-block",disabled:y.loading},[(0,s.bo)((0,s.Lk)("span",k,null,512),[[l.aG,y.loading]]),(0,s.eW)(" Обновить связь ")],8,v)])])])),_:1},8,["onSubmit","validation-schema"])])):((0,s.uX)(),(0,s.CE)("div",f,T)),e.message?((0,s.uX)(),(0,s.CE)("div",{key:2,class:(0,r.C4)(["alert",e.successful?"alert-success":"alert-danger"])},(0,r.v_)(e.message),3)):(0,s.Q3)("",!0)])}var A=a(482),j=a(9041),F=a(619),L=a(7411),w={setup(){const e=(0,L.dj)();return{toast:e}},components:{Form:A.lV,Field:A.D0,ErrorMessage:A.Kw},data(){const e=j.Ik().shape({});return{schema:e,loading:!1,tegrsu:null,editedTegrsu:null,groups:null}},methods:{async loadTegrsuDetail(){const e=this.$route.params.tegrsuId;try{const t=await F.A.getTegrsuById(e);this.tegrsu=t.data,this.editedTegrsu={...t.data}}catch(t){console.error("Error loading tegrsu details:",t)}},async updateTegrsu(){try{this.loading=!0;const e=await F.A.updateTegrsuById(this.tegrsu.tegrsu_id,this.tegrsu.tegrsu_teacher_id,this.editedTegrsu.tegrsu_group_id,this.editedTegrsu.tegrsu_subject_id);e.data,this.tegrsu={...this.editedTegrsu},this.loading=!1,this.toast.success("Успешно обновили связь!")}catch(e){console.error("Ошибка загрузки данных о связи:",e)}},async deleteTegrsu(){try{this.loading=!0;const e=await F.A.deleteTegrsuById(this.tegrsu.tegrsu_id);e.data,this.tegrsu={...this.editedTegrsu},this.loading=!1,this.toast.success("Успешно удалили связь!")}catch(e){console.error("Ошибка загрузки данных о связи:",e)}},async loadTeachersData(){try{const e=await F.A.getTeachersAsIdText();this.teachers=Array.isArray(e.data)?e.data:[e.data]}catch(e){console.error("Ошибка загрузки данных о преподавателе:",e)}},async loadGroupsData(){try{const e=await F.A.getGroupsAsIdText();this.groups=Array.isArray(e.data)?e.data:[e.data]}catch(e){console.error("Ошибка загрузки данных о преподавателе:",e)}},async loadSubjectsData(){try{const e=await F.A.getSubjectsAsIdText();this.subjects=Array.isArray(e.data)?e.data:[e.data]}catch(e){console.error("Ошибка загрузки данных о преподавателе:",e)}}},created(){this.loadGroupsData(),this.loadSubjectsData(),this.loadTegrsuDetail()}},C=a(1241);const V=(0,C.A)(w,[["render",x],["__scopeId","data-v-c5a7047e"]]);var I=V}}]);
//# sourceMappingURL=6206.3c12c2d3.js.map