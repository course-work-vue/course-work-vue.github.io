"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[7126],{7126:function(e,a,l){l.r(a),l.d(a,{default:function(){return pe}});var t=l(6768),s=l(4232),o=l(5130);const n=e=>((0,t.Qi)("data-v-73b2affe"),e=e(),(0,t.jt)(),e),r={class:"list"},i={key:0},d=(0,t.Fv)('<div class="form-group" data-v-73b2affe><label class="form-control skeleton-text skeleton-animate" data-v-73b2affe></label><input type="text" class="form-control skeleton skeleton-animate" data-v-73b2affe></div><div class="form-group" data-v-73b2affe><label class="form-control skeleton-text skeleton-animate" data-v-73b2affe></label><input type="text" class="form-control skeleton skeleton-animate" data-v-73b2affe></div><div class="form-group" data-v-73b2affe><label class="form-control skeleton-text skeleton-animate" data-v-73b2affe></label><input type="text" class="form-control skeleton skeleton-animate" data-v-73b2affe></div><div class="form-group" data-v-73b2affe><label class="form-control skeleton-text skeleton-animate" data-v-73b2affe></label><input type="text" class="form-control skeleton skeleton-animate" data-v-73b2affe></div><div class="form-group" data-v-73b2affe><label class="form-control skeleton-text skeleton-animate" data-v-73b2affe></label><input type="text" class="form-control skeleton skeleton-animate" data-v-73b2affe></div><div class="form-group" data-v-73b2affe><label class="form-control skeleton-text skeleton-animate" data-v-73b2affe></label><input type="text" class="form-control skeleton skeleton-animate" data-v-73b2affe></div><div class="form-group" data-v-73b2affe><label class="form-control skeleton-text skeleton-animate" data-v-73b2affe></label><input type="text" class="form-control skeleton skeleton-animate" data-v-73b2affe></div><div class="form-group" data-v-73b2affe><label class="form-control skeleton-text skeleton-animate" data-v-73b2affe></label><input type="text" class="form-control skeleton skeleton-animate" data-v-73b2affe></div><div class="form-group" data-v-73b2affe><label class="form-control skeleton-text skeleton-animate" data-v-73b2affe></label><input type="text" class="form-control skeleton skeleton-animate" data-v-73b2affe></div><div class="form-group" data-v-73b2affe><label class="form-control skeleton-text skeleton-animate" data-v-73b2affe></label><input type="text" class="form-control skeleton skeleton-animate" data-v-73b2affe></div><div class="form-group" data-v-73b2affe><label class="form-control skeleton-text skeleton-animate" data-v-73b2affe></label><input type="text" class="form-control skeleton skeleton-animate" data-v-73b2affe></div><div class="form-group" data-v-73b2affe><label class="form-control skeleton-text skeleton-animate" data-v-73b2affe></label><input type="text" class="form-control skeleton skeleton-animate" data-v-73b2affe></div><div class="form-group" data-v-73b2affe><label class="form-control skeleton-text skeleton-animate" data-v-73b2affe></label><input type="text" class="form-control skeleton skeleton-animate" data-v-73b2affe></div><div class="form-group" data-v-73b2affe><label class="form-control skeleton-text skeleton-animate" data-v-73b2affe></label><input type="text" class="form-control skeleton skeleton-animate" data-v-73b2affe></div><div class="form-group" data-v-73b2affe><label class="form-control skeleton-text skeleton-animate" data-v-73b2affe></label><input type="text" class="form-control skeleton skeleton-animate" data-v-73b2affe></div>',15),c=[d],m={key:1,class:"col-md-12"},f=n((()=>(0,t.Lk)("h2",null,"Данные слушателя",-1))),u={class:"form-group d-inline-flex align-items-center col-12 mb-2"},b=n((()=>(0,t.Lk)("label",{for:"lastname"},"Фамилия",-1))),p={class:"form-group d-inline-flex align-items-center col-12 mb-2"},k=n((()=>(0,t.Lk)("label",{for:"name"},"Имя",-1))),v={class:"form-group d-inline-flex align-items-center col-12 mb-2"},g=n((()=>(0,t.Lk)("label",{for:"surname"},"Отчество",-1))),y={class:"form-group d-inline-flex align-items-center mb-2 col-6"},_=n((()=>(0,t.Lk)("label",{for:"group_id"},"Группа:",-1))),L=["value"],x={class:"form-group d-inline-flex align-items-center mb-2 col-5"},h=n((()=>(0,t.Lk)("label",{for:"passport"},"Серия и номер паспорта",-1))),F={class:"form-group d-inline-flex align-items-center mb-2 col-5"},C=n((()=>(0,t.Lk)("label",{for:"issue_date"},"Дата выдачи",-1))),V={class:"form-group d-inline-flex align-items-center mb-2"},w=n((()=>(0,t.Lk)("label",{for:"department_code"},"Код подразделения",-1))),E={class:"form-group d-inline-flex align-items-center mb-2"},D=n((()=>(0,t.Lk)("label",{for:"registration_address "},"Адрес регистрации",-1))),A={class:"form-group d-inline-flex align-items-center mb-2"},X=n((()=>(0,t.Lk)("label",{for:"snils"},"СНИЛС",-1))),U={class:"form-group d-inline-flex align-items-center mb-2"},I=n((()=>(0,t.Lk)("label",{for:"issued_by"},"Кем выдан",-1))),j={class:"form-group d-inline-flex align-items-center mb-2"},K=n((()=>(0,t.Lk)("label",{for:"phone_number"},"Телефон",-1))),S={class:"form-group d-inline-flex align-items-center mb-2"},G=n((()=>(0,t.Lk)("label",{for:"email"},"Email",-1))),R=n((()=>(0,t.Lk)("hr",{size:"2"},null,-1))),J=n((()=>(0,t.Lk)("h2",null,"Пожелания слушателя",-1))),M={class:"col-5"},Q={class:"table table-bordered col col-3"},T=n((()=>(0,t.Lk)("thead",null,[(0,t.Lk)("tr",null,[(0,t.Lk)("th",null,"День"),(0,t.Lk)("th",null,"Время начала"),(0,t.Lk)("th",null,"Время окончания")])],-1))),W=["onUpdate:modelValue"],z=["value"],N=["onUpdate:modelValue"],q=["onUpdate:modelValue"],B={class:"form-group d-inline-flex align-items-center mb-2 col-5"},H=n((()=>(0,t.Lk)("label",{for:"people_count"},"Количество человек:",-1))),O={class:"form-group d-inline-flex align-items-center mb-2 col-5"},P=n((()=>(0,t.Lk)("label",{for:"hours"},"Количество часов:",-1))),Y={class:"form-group d-inline-flex align-items-center mb-2 col-5"},Z=n((()=>(0,t.Lk)("label",{for:"start_date"},"Начало:",-1))),$={class:"form-group d-inline-flex align-items-center mb-2 col-5"},ee=n((()=>(0,t.Lk)("label",{for:"end_date"},"Конец:",-1))),ae={class:"form-group d-inline-flex align-items-center mb-2 col-12"},le=n((()=>(0,t.Lk)("label",{for:"wish_description"},"Дополнительный комментарий:",-1))),te=n((()=>(0,t.Lk)("div",null,null,-1))),se={class:"form-group mt-3"},oe=["disabled"],ne={class:"spinner-border spinner-border-sm"};function re(e,a,l,n,d,re){const ie=(0,t.g2)("Field"),de=(0,t.g2)("ErrorMessage"),ce=(0,t.g2)("Select2"),me=(0,t.g2)("router-link"),fe=(0,t.g2)("Form");return(0,t.uX)(),(0,t.CE)("div",r,[d.dataLoading?((0,t.uX)(),(0,t.CE)("div",i,c)):((0,t.uX)(),(0,t.CE)("div",m,[(0,t.bF)(fe,{onSubmit:re.addListener,"validation-schema":d.schema},{default:(0,t.k6)((({errors:e})=>[f,(0,t.Lk)("div",null,[(0,t.Lk)("div",u,[b,(0,t.bF)(ie,{name:"lastname",type:"text",value:"",class:(0,s.C4)(["form-control",{"is-invalid":e.lastname}])},null,8,["class"]),(0,t.bF)(de,{name:"lastname",class:"error-feedback"})]),(0,t.Lk)("div",p,[k,(0,t.bF)(ie,{name:"name",type:"text",class:(0,s.C4)(["form-control",{"is-invalid":e.name}]),value:""},null,8,["class"]),(0,t.bF)(de,{name:"name",class:"error-feedback"})]),(0,t.Lk)("div",v,[g,(0,t.bF)(ie,{name:"surname",type:"text",class:(0,s.C4)(["form-control",{"is-invalid":e.patronymic}]),value:""},null,8,["class"]),(0,t.bF)(de,{name:"surname",class:"error-feedback"})]),(0,t.Lk)("div",y,[_,(0,t.bF)(ce,{class:(0,s.C4)(["col-5",{"form-control is-invalid":e.group_id}]),modelValue:d.myValue,"onUpdate:modelValue":a[0]||(a[0]=e=>d.myValue=e),options:d.groups,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,t.bF)(ie,{name:"group_id",as:"select",modelValue:d.myValue,"onUpdate:modelValue":a[1]||(a[1]=e=>d.myValue=e),hidden:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(d.groups,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.text),9,L)))),128))])),_:1},8,["modelValue"]),(0,t.bF)(de,{name:"group_id",class:"error-feedback"})]),(0,t.Lk)("div",x,[h,(0,t.bF)(ie,{name:"passport",type:"text",class:(0,s.C4)(["form-control",{"is-invalid":e.passport}]),value:""},null,8,["class"]),(0,t.bF)(de,{name:"passport",class:"error-feedback"})]),(0,t.Lk)("div",F,[C,(0,t.bF)(ie,{name:"issue_date",type:"date",class:(0,s.C4)(["form-control",{"is-invalid":e.date}]),value:""},null,8,["class"]),(0,t.bF)(de,{name:"issue_date ",class:"error-feedback"})]),(0,t.Lk)("div",V,[w,(0,t.bF)(ie,{name:"department_code",type:"text",class:(0,s.C4)(["form-control",{"is-invalid":e.department_code}]),value:""},null,8,["class"]),(0,t.bF)(de,{name:"department_code",class:"error-feedback"})]),(0,t.Lk)("div",E,[D,(0,t.bF)(ie,{name:"registration_address",type:"text",class:(0,s.C4)(["form-control",{"is-invalid":e.registration_address}]),value:""},null,8,["class"]),(0,t.bF)(de,{name:"registration_address",class:"error-feedback"})]),(0,t.Lk)("div",A,[X,(0,t.bF)(ie,{name:"snils",type:"text",class:(0,s.C4)(["form-control",{"is-invalid":e.snils}]),value:""},null,8,["class"]),(0,t.bF)(de,{name:"snils",class:"error-feedback"})]),(0,t.Lk)("div",U,[I,(0,t.bF)(ie,{name:"issued_by",type:"text",class:(0,s.C4)(["form-control",{"is-invalid":e.issued_by}]),value:""},null,8,["class"]),(0,t.bF)(de,{name:"issued_by",class:"error-feedback"})]),(0,t.Lk)("div",j,[K,(0,t.bF)(ie,{name:"phone_number",type:"text",class:(0,s.C4)(["form-control",{"is-invalid":e.phone_number}]),value:""},null,8,["class"]),(0,t.bF)(de,{name:"phone_number",class:"error-feedback"})]),(0,t.Lk)("div",S,[G,(0,t.bF)(ie,{name:"email",type:"text",class:(0,s.C4)(["form-control",{"is-invalid":e.email}]),value:""},null,8,["class"]),(0,t.bF)(de,{name:"email",class:"error-feedback"})]),R,J,(0,t.Lk)("div",M,[(0,t.Lk)("table",Q,[T,(0,t.Lk)("tbody",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(d.tableData,((e,a)=>((0,t.uX)(),(0,t.CE)("tr",{key:a},[(0,t.Lk)("td",null,[(0,t.bo)((0,t.Lk)("select",{class:"form-select","onUpdate:modelValue":a=>e.day_id=a},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(d.days,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.value,value:e.id},(0,s.v_)(e.text),9,z)))),128))],8,W),[[o.u1,e.day_id]])]),(0,t.Lk)("td",null,[(0,t.bo)((0,t.Lk)("input",{class:"form-control",type:"time","onUpdate:modelValue":a=>e.starttime=a},null,8,N),[[o.Jo,e.starttime]])]),(0,t.Lk)("td",null,[(0,t.bo)((0,t.Lk)("input",{class:"form-control",type:"time","onUpdate:modelValue":a=>e.endtime=a},null,8,q),[[o.Jo,e.endtime]])])])))),128))])]),(0,t.Lk)("button",{type:"button",class:"btn btn-primary",onClick:a[2]||(a[2]=(...e)=>re.addRow&&re.addRow(...e))},"+")]),(0,t.Lk)("div",B,[H,(0,t.bF)(ie,{name:"people_count",type:"number",class:(0,s.C4)(["form-control",{"is-invalid":e.people_count}]),value:""},null,8,["class"]),(0,t.bF)(de,{name:"people_count",class:"error-feedback"})]),(0,t.Lk)("div",O,[P,(0,t.bF)(ie,{name:"hours",type:"number",class:(0,s.C4)(["form-control",{"is-invalid":e.hours}]),value:""},null,8,["class"]),(0,t.bF)(de,{name:"hours",class:"error-feedback"})]),(0,t.Lk)("div",Y,[Z,(0,t.bF)(ie,{name:"start_date",type:"date",class:(0,s.C4)(["form-control",{"is-invalid":e.start_date}]),value:""},null,8,["class"]),(0,t.bF)(de,{name:"start_date",class:"error-feedback"})]),(0,t.Lk)("div",$,[ee,(0,t.bF)(ie,{name:"end_date",type:"date",class:(0,s.C4)(["form-control",{"is-invalid":e.end_date}]),value:""},null,8,["class"]),(0,t.bF)(de,{name:"end_date",class:"error-feedback"})]),(0,t.Lk)("div",ae,[le,(0,t.bF)(ie,{name:"wish_description",type:"text",class:(0,s.C4)(["form-control",{"is-invalid":e.wish_description}]),value:""},null,8,["class"]),(0,t.bF)(de,{name:"wish_description",class:"error-feedback"})]),te,(0,t.Lk)("div",se,[(0,t.Lk)("button",{class:"btn btn-primary btn-block",disabled:d.loading},[(0,t.bo)((0,t.Lk)("span",ne,null,512),[[o.aG,d.loading]]),(0,t.eW)(" Добавить слушателя ")],8,oe),(0,t.bF)(me,{to:"/listeners",class:"btn btn-secondary ml-2 float-end"},{default:(0,t.k6)((()=>[(0,t.eW)("Отмена")])),_:1})])])])),_:1},8,["onSubmit","validation-schema"]),d.message?((0,t.uX)(),(0,t.CE)("div",{key:0,class:(0,s.C4)(["alert",d.successful?"alert-success":"alert-danger"])},(0,s.v_)(d.message),3)):(0,t.Q3)("",!0)]))])}l(4114);var ie=l(482),de=l(9041),ce=l(619),me=l(7411),fe={setup(){const e=(0,me.dj)();return{toast:e}},name:"AddStudent",components:{Form:ie.lV,Field:ie.D0,ErrorMessage:ie.Kw},data(){const e=de.Ik().shape({});return{successful:!1,loading:!1,dataLoading:!1,message:"",schema:e,days_of_week:null,groups:null,days:null,myValue:"",myValue2:"",tableData:[]}},computed:{},mounted(){},methods:{addRow(){const e={day_id:"",starttime:"",endtime:""};this.tableData.push(e)},async addListener(e){try{this.loading=!0,console.log(this.tableData),console.log(this.tableData);const a=await ce.A.addListener(e.name,e.surname,e.lastname,e.group_id,e.snils,e.passport,e.issued_by,e.issue_date,e.department_code,e.registration_address,e.phone_number,e.email,e.people_count,e.hours,e.start_date,e.end_date,e.listener_id,e.wish_description,this.tableData);console.log(this.tableData),a.data,this.loading=!1,this.successful=!0,this.toast.success("Успешно добавили слушателя!")}catch(a){this.message="Ошибка",this.toast.error("Ошибка добавления "),console.error("Error updating student details:",a)}},async loadGroupsData(){try{const e=await ce.A.getLgroupsAsIdText();this.groups=Array.isArray(e.data)?e.data:[e.data],this.groups.unshift({id:"NULL",text:"Нет"}),console.log(this.groups),this.dataLoading=!1}catch(e){console.error("Error loading data:",e)}},async loadDaysData(){try{const e=await ce.A.getDaysAsIdText();this.days=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error loading data:",e)}}},created(){this.loadDaysData(),this.loadGroupsData()}},ue=l(1241);const be=(0,ue.A)(fe,[["render",re],["__scopeId","data-v-73b2affe"]]);var pe=be}}]);
//# sourceMappingURL=7126.849d9e2c.js.map