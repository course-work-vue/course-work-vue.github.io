"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[9650],{9650:function(e,t,a){a.r(t),a.d(t,{default:function(){return P}});var o=a(6768),l=a(4232),d=a(5130);const s=e=>((0,o.Qi)("data-v-c6d0df40"),e=e(),(0,o.jt)(),e),r={class:"col-md-12 list"},n={key:0},i={class:"form-group d-inline-flex align-items-center col-5 mb-2"},c=s((()=>(0,o.Lk)("label",{for:"group_number"},"Номер группы",-1))),u={class:"form-group d-inline-flex align-items-center col-5 mb-2"},p=s((()=>(0,o.Lk)("label",{for:"group_dir_id"},"Направление",-1))),m=["value"],f={class:"form-group d-inline-flex align-items-center col-10 mb-2"},v=s((()=>(0,o.Lk)("label",{for:"group_prof_id"},"Профиль",-1))),k=["value"],g={class:"form-group d-inline-flex align-items-center col-5 mb-2"},b=s((()=>(0,o.Lk)("label",{for:"course"},"Курс:",-1))),_=["value"],h={class:"form-group d-inline-flex align-items-center col-5 mb-2"},x=s((()=>(0,o.Lk)("label",{for:"magister"},"Магистратура:",-1))),y=["checked"],G=["checked"],F={class:"form-group mt-3"},L=["disabled"],V={class:"spinner-border spinner-border-sm"},C={class:"form-group float-end"},E={key:1},w=(0,o.Fv)('<div class="form-group" data-v-c6d0df40><label class="form-control skeleton-text skeleton-animate" data-v-c6d0df40></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c6d0df40></div><div class="form-group" data-v-c6d0df40><label class="form-control skeleton-text skeleton-animate" data-v-c6d0df40></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c6d0df40></div><div class="form-group" data-v-c6d0df40><label class="form-control skeleton-text skeleton-animate" data-v-c6d0df40></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c6d0df40></div><div class="form-group" data-v-c6d0df40><label class="form-control skeleton-text skeleton-animate" data-v-c6d0df40></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c6d0df40></div><div class="form-group" data-v-c6d0df40><label class="form-control skeleton-text skeleton-animate" data-v-c6d0df40></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c6d0df40></div><div class="form-group" data-v-c6d0df40><label class="form-control skeleton-text skeleton-animate" data-v-c6d0df40></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c6d0df40></div><div class="form-group" data-v-c6d0df40><label class="form-control skeleton-text skeleton-animate" data-v-c6d0df40></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c6d0df40></div><div class="form-group" data-v-c6d0df40><label class="form-control skeleton-text skeleton-animate" data-v-c6d0df40></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c6d0df40></div><div class="form-group" data-v-c6d0df40><label class="form-control skeleton-text skeleton-animate" data-v-c6d0df40></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c6d0df40></div><div class="form-group" data-v-c6d0df40><label class="form-control skeleton-text skeleton-animate" data-v-c6d0df40></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c6d0df40></div><div class="form-group" data-v-c6d0df40><label class="form-control skeleton-text skeleton-animate" data-v-c6d0df40></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c6d0df40></div><div class="form-group" data-v-c6d0df40><label class="form-control skeleton-text skeleton-animate" data-v-c6d0df40></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c6d0df40></div><div class="form-group" data-v-c6d0df40><label class="form-control skeleton-text skeleton-animate" data-v-c6d0df40></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c6d0df40></div><div class="form-group" data-v-c6d0df40><label class="form-control skeleton-text skeleton-animate" data-v-c6d0df40></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c6d0df40></div><div class="form-group" data-v-c6d0df40><label class="form-control skeleton-text skeleton-animate" data-v-c6d0df40></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c6d0df40></div><div class="form-group" data-v-c6d0df40><label class="form-control skeleton-text skeleton-animate" data-v-c6d0df40></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c6d0df40></div><div class="form-group" data-v-c6d0df40><label class="form-control skeleton-text skeleton-animate" data-v-c6d0df40></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c6d0df40></div><div class="form-group" data-v-c6d0df40><label class="form-control skeleton-text skeleton-animate" data-v-c6d0df40></label><input type="text" class="form-control skeleton skeleton-animate" data-v-c6d0df40></div>',18),A=[w];function X(e,t,a,s,w,X){const I=(0,o.g2)("Field"),D=(0,o.g2)("ErrorMessage"),U=(0,o.g2)("Select2"),j=(0,o.g2)("router-link"),K=(0,o.g2)("Form");return(0,o.uX)(),(0,o.CE)("div",r,[w.group?((0,o.uX)(),(0,o.CE)("div",n,[(0,o.bF)(K,{onSubmit:X.updateGroup,"validation-schema":w.schema},{default:(0,o.k6)((({errors:e})=>[(0,o.Lk)("div",null,[(0,o.Lk)("div",i,[c,(0,o.bF)(I,{name:"group_number",type:"text",class:(0,l.C4)(["form-control",{"is-invalid":e.group_number}]),modelValue:w.editedGroup.group_number,"onUpdate:modelValue":t[0]||(t[0]=e=>w.editedGroup.group_number=e)},null,8,["class","modelValue"]),(0,o.bF)(D,{name:"group_number",class:"error-feedback"})]),(0,o.Lk)("div",u,[p,(0,o.bF)(U,{class:(0,l.C4)(["col-5",{"form-control is-invalid":e.group_dir_id}]),modelValue:w.editedGroup.group_dir_id,"onUpdate:modelValue":t[1]||(t[1]=e=>w.editedGroup.group_dir_id=e),options:w.directions,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,o.bF)(I,{name:"group_dir_id",as:"select",modelValue:w.editedGroup.group_dir_id,"onUpdate:modelValue":t[2]||(t[2]=e=>w.editedGroup.group_dir_id=e),hidden:""},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(w.directions,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.id},(0,l.v_)(e.text),9,m)))),128))])),_:1},8,["modelValue"]),(0,o.bF)(D,{name:"group_dir_id",class:"error-feedback"})]),(0,o.Lk)("div",f,[v,(0,o.bF)(U,{class:(0,l.C4)(["col-5",{"form-control is-invalid":e.group_prof_id}]),modelValue:w.editedGroup.group_prof_id,"onUpdate:modelValue":t[3]||(t[3]=e=>w.editedGroup.group_prof_id=e),options:w.profiles,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,o.bF)(I,{name:"group_prof_id",as:"select",modelValue:w.editedGroup.group_prof_id,"onUpdate:modelValue":t[4]||(t[4]=e=>w.editedGroup.group_prof_id=e),hidden:""},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(w.profiles,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.id},(0,l.v_)(e.text),9,k)))),128))])),_:1},8,["modelValue"]),(0,o.bF)(D,{name:"group_prof_id",class:"error-feedback"})]),(0,o.Lk)("div",g,[b,(0,o.bF)(U,{class:(0,l.C4)(["col-5",{"form-control is-invalid":e.course}]),modelValue:w.editedGroup.course,"onUpdate:modelValue":t[5]||(t[5]=e=>w.editedGroup.course=e),options:w.courses,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,o.bF)(I,{name:"course",as:"select",modelValue:w.editedGroup.course,"onUpdate:modelValue":t[6]||(t[6]=e=>w.editedGroup.course=e),hidden:""},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(w.courses,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.id},(0,l.v_)(e.text),9,_)))),128))])),_:1},8,["modelValue"]),(0,o.bF)(D,{name:"course",class:"error-feedback"})]),(0,o.Lk)("div",h,[x,(0,o.bF)(I,{name:"magister",type:"radio",value:!0},{default:(0,o.k6)((({field2:e})=>[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",(0,o.v6)({type:"radio",name:"magister"},e,{value:"false",class:"form-check-input mt-0 ml-5","onUpdate:modelValue":t[7]||(t[7]=e=>w.editedGroup.magister=e),checked:0==w.editedGroup.magister}),null,16,y),[[d.XL,w.editedGroup.magister]]),(0,o.eW)(" Нет ")])])),_:1}),(0,o.bF)(D,{name:"magister",class:"error-feedback"}),(0,o.bF)(I,{name:"magister",type:"radio",value:!0},{default:(0,o.k6)((({field:e})=>[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",(0,o.v6)({type:"radio",name:"magister"},e,{value:"true",class:"form-check-input mt-0 ml-5","onUpdate:modelValue":t[8]||(t[8]=e=>w.editedGroup.magister=e),checked:1==w.editedGroup.magister}),null,16,G),[[d.XL,w.editedGroup.magister]]),(0,o.eW)(" Да ")])])),_:1})]),(0,o.Lk)("div",F,[(0,o.Lk)("button",{class:"btn btn-primary btn-block float-start",disabled:w.loading},[(0,o.bo)((0,o.Lk)("span",V,null,512),[[d.aG,w.loading]]),(0,o.eW)(" Обновить группу ")],8,L),(0,o.Lk)("div",C,[(0,o.Lk)("button",{type:"button",class:"btn btn-danger float-end",onClick:t[9]||(t[9]=(...e)=>X.deleteGroup&&X.deleteGroup(...e))}," Удалить группу ")]),(0,o.bF)(j,{to:"/groups",class:"btn btn-secondary ml-2 float-end"},{default:(0,o.k6)((()=>[(0,o.eW)("Отмена")])),_:1})])])])),_:1},8,["onSubmit","validation-schema"])])):((0,o.uX)(),(0,o.CE)("div",E,A)),e.message?((0,o.uX)(),(0,o.CE)("div",{key:2,class:(0,l.C4)(["alert",e.successful?"alert-success":"alert-danger"])},(0,l.v_)(e.message),3)):(0,o.Q3)("",!0)])}a(4114);var I=a(482),D=a(9041),U=a(619),j=a(7411),K={setup(){const e=(0,j.dj)();return{toast:e}},components:{Form:I.lV,Field:I.D0,ErrorMessage:I.Kw},data(){const e=D.Ik().shape({});return{schema:e,loading:!1,group:null,editedGroup:null,profiles:null,directions:null,courses:[{id:"1",text:"1"},{id:"2",text:"2"},{id:"3",text:"3"},{id:"4",text:"4"}]}},methods:{async deleteGroup(){try{this.loading=!0;const e=await U.A.deleteGroupById(this.group.group_id);e.data,this.loading=!1,this.toast.success("Успешно удалили!"),this.$router.push("/groups")}catch(e){console.error("Ошибка загрузки данных",e)}},async updateGroup(){try{this.loading=!0;const e=await U.A.updateGroupById(this.group.group_id,this.editedGroup.group_dir_id,this.editedGroup.group_prof_id,this.editedGroup.group_number,this.editedGroup.course,this.editedGroup.magister);e.data,this.group={...this.editedgroup},this.loading=!1,this.toast.success("Успешно обновили группу!")}catch(e){console.error("Ошибка загрузки данных о студенте:",e)}},async loadGroupDetail(){const e=this.$route.params.groupId;try{const t=await U.A.getGroupById(e);this.group=t.data,this.editedGroup={...t.data}}catch(t){console.error("Error",t)}},async loadDirectionsData(){try{const e=await U.A.getDirectionsAsIdText();this.directions=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error:",e)}},async loadProfilesData(){try{const e=await U.A.getProfilesAsIdText();this.profiles=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1}catch(e){console.error("Error:",e)}}},created(){this.loadDirectionsData(),this.loadProfilesData(),this.loadGroupDetail()}},W=a(1241);const B=(0,W.A)(K,[["render",X],["__scopeId","data-v-c6d0df40"]]);var P=B}}]);
//# sourceMappingURL=9650.e0fa10ae.js.map