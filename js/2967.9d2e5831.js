"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[2967],{5348:function(e,a,t){t.r(a),t.d(a,{default:function(){return b}});var i=t(6768);const r=e=>((0,i.Qi)("data-v-bf09ea80"),e=e(),(0,i.jt)(),e),d={class:"col col-xs-9 col-lg-12 mt-4 list"},l={class:"col col-12"},s={class:"col col-12"},o=r((()=>(0,i.Lk)("i",{class:"material-icons-outlined"},null,-1))),n=r((()=>(0,i.Lk)("i",{class:"material-icons-outlined"},"add",-1))),h={style:{height:"80vh"}},c={class:"h-100 pt-5"};function u(e,a,t,r,u,m){const f=(0,i.g2)("ag-grid-vue");return(0,i.uX)(),(0,i.CE)("div",d,[(0,i.Lk)("div",l,[(0,i.Lk)("div",s,[(0,i.Lk)("button",{onClick:a[0]||(a[0]=(...e)=>m.Back&&m.Back(...e)),class:"btn btn-primary float-start",type:"button",style:{"margin-right":"25px"}},[o,(0,i.eW)("Назад")]),(0,i.Lk)("button",{onClick:a[1]||(a[1]=(...e)=>m.SaveToDB&&m.SaveToDB(...e)),class:"btn btn-primary float-start",type:"button"},[n,(0,i.eW)("Сохранить")])])]),(0,i.Lk)("div",h,[(0,i.Lk)("div",c,[(0,i.bF)(f,{class:"ag-theme-alpine",style:{width:"100%",height:"100%"},columnDefs:r.columnDefs.value,rowData:r.rowData.value,defaultColDef:r.defaultColDef,rowSelection:"multiple",animateRows:"true",onCellEditingStopped:m.cellWasEdited,onGridReady:r.onGridReady,onFirstDataRendered:m.onFirstDataRendered,onFilterChanged:m.onFilterChanged,pagination:!0,paginationPageSize:r.paginationPageSize},null,8,["columnDefs","rowData","defaultColDef","onCellEditingStopped","onGridReady","onFirstDataRendered","onFilterChanged","paginationPageSize"])])])])}t(4114);var m=t(7277),f=t(144),p=t(892),g=t(7403),v=t(619);let _=[],k=[];var x={name:"App",components:{AgGridVue:m.b,ButtonCell:p.A,ProfileHref:g.A},setup(){const e=(0,f.KR)(null),a=(0,f.KR)(),t=60,r=t=>{e.value=t.api,a.value=t.columnApi},d=()=>{},l=(0,f.Kh)({}),s=(0,f.Kh)({value:[{editable:!0,maxWidth:200,field:"fam",headerName:"Преподаватель"},{maxWidth:150,field:"short_name",headerName:"Факультет"},{minWidth:400,field:"dis_name",headerName:"Дисциплина"},{maxWidth:200,field:"code_napr",headerName:"Код направления"},{maxWidth:100,field:"kurs",headerName:"Курс"},{maxWidth:150,field:"semestr",headerName:"Семестр"},{maxWidth:200,field:"kont_budg",headerName:"Контингент, бюджет"},{maxWidth:200,field:"kont_dog",headerName:"Контингент, договор"},{maxWidth:200,field:"number_of_streams",headerName:"Количество потоков"},{maxWidth:200,field:"number_of_groups",headerName:"Количество групп"},{maxWidth:200,field:"number_of_subgroups",headerName:"Количество подгрупп"},{maxWidth:150,field:"lec_h",headerName:"Лекции, ч"},{maxWidth:150,field:"seminar_h",headerName:"Семинары, ч"},{maxWidth:150,field:"lab_h",headerName:"Лабы, ч"},{maxWidth:150,field:"consult_h",headerName:"Консультации, ч"},{maxWidth:150,field:"exam_h",headerName:"Экзамены, ч"},{maxWidth:150,field:"zachet_h",headerName:"Зачёты, ч"},{maxWidth:150,field:"kursach_h",headerName:"Курсач, ч"},{maxWidth:200,field:"control_h",headerName:"Контрольные, ч"},{maxWidth:150,field:"VKR_h",headerName:"ВКР, ч"},{maxWidth:150,field:"magistr_h",headerName:"Магистр, ч"},{maxWidth:150,field:"GEK_h",headerName:"ГЭК, ч"},{maxWidth:150,field:"practice_h",headerName:"Практика, ч"},{maxWidth:150,field:"manage_h",headerName:"Управление, ч"},{maxWidth:150,field:"other_h",headerName:"Прочее, ч"},{minWidth:400,field:"dep",headerName:"Кафедра"}]}),o={sortable:!0,filter:!0,flex:1,resizable:!0,minWidth:300};(0,i.sV)((()=>{}));const n=()=>{e.value.setQuickFilter(document.getElementById("filter-text-box").value)};return{onGridReady:r,columnDefs:s,rowData:l,defaultColDef:o,deselectRows:()=>{e.value.deselectAll()},onFilterTextBoxChanged:n,paginationPageSize:t,deleteRow:d}},data(){return{quickFilterValue:"",filters:!1,componentKey:0}},methods:{async loadGroupsData(){try{const e=await v.A.getTempTeachGruz();this.rowData.value=Array.isArray(e.data)?e.data:[e.data];for(let a=0;a<this.rowData.value.length;a++)_.push(this.rowData.value[a].fam),k.push(this.rowData.value[a].fac);this.loading=!1}catch(e){console.error("Error loading students data:",e)}},async SaveToDB(){console.log(),this.Back()},Back(){this.$router.push("/xlparse")},cellWasEdited(e){"fam"==e.colDef.field&&v.A.updateTempNagrFam(e.data.id,e.data.fam)},onFirstDataRendered(e){this.gridApi=e.api,this.columnApi=e.columnApi;const a=this.$route.query.filterModel;if(a){const e=JSON.parse(a);this.gridApi.setFilterModel(e),this.filters=!0}const t=this.$route.query.quickFilter;if(t){const e=JSON.parse(t);this.gridApi.setQuickFilter(e),this.quickFilterValue=e,this.filters=!0}},onFilterChanged(){this.filters=!1;const e=this.gridApi.getQuickFilter(),a=this.gridApi.getFilterModel(),t={};e&&(t.quickFilter=JSON.stringify(e),this.filters=!0),a&&Object.keys(a).length>0&&(t.filterModel=JSON.stringify(a),this.filters=!0),this.$router.push({query:t})},clearFilters(){this.gridApi.setFilterModel(),this.gridApi.setQuickFilter(),this.quickFilterValue="",this.filters=!1}},created(){this.loadGroupsData()}},N=t(1241);const W=(0,N.A)(x,[["render",u],["__scopeId","data-v-bf09ea80"]]);var b=W},892:function(e,a,t){t.d(a,{A:function(){return c}});var i=t(6768);const r=e=>((0,i.Qi)("data-v-e73962e4"),e=e(),(0,i.jt)(),e),d={class:"krasivsk"},l=r((()=>(0,i.Lk)("i",{class:"material-icons-outlined"},"visibility",-1)));function s(e,a,t,r,s,o){return(0,i.uX)(),(0,i.CE)("div",d,[(0,i.Lk)("button",{onClick:a[0]||(a[0]=(...e)=>o.onClick&&o.onClick(...e)),class:"btn btn-primary btn-sm"},[l,(0,i.eW)("Детали")])])}t(4114);var o={props:["params"],computed:{},methods:{onClick(){this.$router.push(`/profiles/${this.params.data.prof_id}`)}}},n=t(1241);const h=(0,n.A)(o,[["render",s],["__scopeId","data-v-e73962e4"]]);var c=h},7403:function(e,a,t){t.d(a,{A:function(){return h}});var i=t(6768),r=t(4232);const d=["href"];function l(e,a,t,l,s,o){return(0,i.uX)(),(0,i.CE)("a",{href:"#/directions?filterModel="+JSON.stringify({dir_code:{filterType:"text",type:"equals",filter:this.params.data.dir_code}})},(0,r.v_)(this.params.data.dir_code),9,d)}var s={props:["params"],computed:{},methods:{}},o=t(1241);const n=(0,o.A)(s,[["render",l],["__scopeId","data-v-5139e79a"]]);var h=n}}]);
//# sourceMappingURL=2967.9d2e5831.js.map