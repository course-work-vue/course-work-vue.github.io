"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[8938],{8938:function(a,e,t){t.r(e),t.d(e,{default:function(){return w}});var s=t(6768),l=t(4232),r=t(5130);const n=a=>((0,s.Qi)("data-v-0ca69810"),a=a(),(0,s.jt)(),a),o={class:"list"},c={key:0},i=(0,s.Fv)('<div class="form-group" data-v-0ca69810><label class="form-control skeleton-text skeleton-animate" data-v-0ca69810></label><input type="text" class="form-control skeleton skeleton-animate" data-v-0ca69810></div><div class="form-group" data-v-0ca69810><label class="form-control skeleton-text skeleton-animate" data-v-0ca69810></label><input type="text" class="form-control skeleton skeleton-animate" data-v-0ca69810></div><div class="form-group" data-v-0ca69810><label class="form-control skeleton-text skeleton-animate" data-v-0ca69810></label><input type="text" class="form-control skeleton skeleton-animate" data-v-0ca69810></div>',3),d=[i],m={key:1,class:"col-md-12"},u={class:"form-group d-inline-flex align-items-center col-12 mb-2"},f=n((()=>(0,s.Lk)("label",{for:"last_name"},"Фамилия:",-1))),v={class:"form-group d-inline-flex align-items-center col-12 mb-2"},b=n((()=>(0,s.Lk)("label",{for:"first_name"},"Имя:",-1))),k={class:"form-group d-inline-flex align-items-center col-12 mb-2"},p=n((()=>(0,s.Lk)("label",{for:"patronymic"},"Отчество:",-1))),g={class:"form-group mt-3"},h=["disabled"],y={class:"spinner-border spinner-border-sm"};function _(a,e,t,n,i,_){const x=(0,s.g2)("Field"),F=(0,s.g2)("ErrorMessage"),L=(0,s.g2)("router-link"),C=(0,s.g2)("Form");return(0,s.uX)(),(0,s.CE)("div",o,[i.dataLoading?((0,s.uX)(),(0,s.CE)("div",c,d)):((0,s.uX)(),(0,s.CE)("div",m,[(0,s.bF)(C,{onSubmit:_.addTeacher,"validation-schema":i.schema},{default:(0,s.k6)((({errors:a})=>[(0,s.Lk)("div",null,[(0,s.Lk)("div",u,[f,(0,s.bF)(x,{name:"last_name",type:"text",value:"",class:(0,l.C4)(["form-control",{"is-invalid":a.last_name}])},null,8,["class"]),(0,s.bF)(F,{name:"last_name",class:"error-feedback"})]),(0,s.Lk)("div",v,[b,(0,s.bF)(x,{name:"first_name",type:"text",class:(0,l.C4)(["form-control",{"is-invalid":a.first_name}]),value:""},null,8,["class"]),(0,s.bF)(F,{name:"first_name",class:"error-feedback"})]),(0,s.Lk)("div",k,[p,(0,s.bF)(x,{name:"patronymic",type:"text",class:(0,l.C4)(["form-control",{"is-invalid":a.patronymic}]),value:""},null,8,["class"]),(0,s.bF)(F,{name:"patronymic",class:"error-feedback"})]),(0,s.Lk)("div",g,[(0,s.bF)(L,{to:"/teachers",class:"btn btn-secondary ml-2 float-start"},{default:(0,s.k6)((()=>[(0,s.eW)("Отмена")])),_:1}),(0,s.Lk)("button",{class:"btn btn-primary btn-block float-end",disabled:i.loading},[(0,s.bo)((0,s.Lk)("span",y,null,512),[[r.aG,i.loading]]),(0,s.eW)(" Добавить преподавателя ")],8,h)])])])),_:1},8,["onSubmit","validation-schema"]),i.message?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,l.C4)(["alert",i.successful?"alert-success":"alert-danger"])},(0,l.v_)(i.message),3)):(0,s.Q3)("",!0)]))])}var x=t(482),F=t(9041),L=t(619),C=t(7411),E={setup(){const a=(0,C.dj)();return{toast:a}},name:"AddTeacher",components:{Form:x.lV,Field:x.D0,ErrorMessage:x.Kw},data(){const a=F.Ik().shape({first_name:F.Yj().required("Требуется имя"),last_name:F.Yj().required("Требуется фамилия"),patronymic:F.Yj().required("Требуется отчество")});return{successful:!1,loading:!1,dataLoading:!0,message:"",schema:a,myValue:""}},computed:{},mounted(){},methods:{async addTeacher(a){try{this.loading=!0;const e=await L.A.addTeacher(a.first_name,a.last_name,a.patronymic);e.data,this.loading=!1,this.successful=!0,this.toast.success("Успешно добавили преподавателя!")}catch(e){this.message="Ошибка",this.toast.error("Ошибка добавления преподавателя"),console.error("Error updating student details:",e)}},async loadTeachersData(){try{const a=await L.A.getTeachersAsIdText();this.teachers=Array.isArray(a.data)?a.data:[a.data],this.dataLoading=!1}catch(a){console.error("Error loading students data:",a)}}},created(){this.loadTeachersData()}},T=t(1241);const j=(0,T.A)(E,[["render",_],["__scopeId","data-v-0ca69810"]]);var w=j}}]);
//# sourceMappingURL=8938.2077f6af.js.map