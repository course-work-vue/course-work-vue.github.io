"use strict";(self["webpackChunkvue_3_authentication_jwt"]=self["webpackChunkvue_3_authentication_jwt"]||[]).push([[2672],{2672:function(e,a,l){l.r(a),l.d(a,{default:function(){return Xe}});var t=l(6768),o=l(4232),s=l(5130);const n=e=>((0,t.Qi)("data-v-1ad1015e"),e=e(),(0,t.jt)(),e),i={class:"list"},r={key:0},d=(0,t.Fv)('<div class="form-group" data-v-1ad1015e><label class="form-control skeleton-text skeleton-animate" data-v-1ad1015e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ad1015e></div><div class="form-group" data-v-1ad1015e><label class="form-control skeleton-text skeleton-animate" data-v-1ad1015e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ad1015e></div><div class="form-group" data-v-1ad1015e><label class="form-control skeleton-text skeleton-animate" data-v-1ad1015e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ad1015e></div><div class="form-group" data-v-1ad1015e><label class="form-control skeleton-text skeleton-animate" data-v-1ad1015e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ad1015e></div><div class="form-group" data-v-1ad1015e><label class="form-control skeleton-text skeleton-animate" data-v-1ad1015e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ad1015e></div><div class="form-group" data-v-1ad1015e><label class="form-control skeleton-text skeleton-animate" data-v-1ad1015e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ad1015e></div><div class="form-group" data-v-1ad1015e><label class="form-control skeleton-text skeleton-animate" data-v-1ad1015e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ad1015e></div><div class="form-group" data-v-1ad1015e><label class="form-control skeleton-text skeleton-animate" data-v-1ad1015e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ad1015e></div><div class="form-group" data-v-1ad1015e><label class="form-control skeleton-text skeleton-animate" data-v-1ad1015e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ad1015e></div><div class="form-group" data-v-1ad1015e><label class="form-control skeleton-text skeleton-animate" data-v-1ad1015e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ad1015e></div><div class="form-group" data-v-1ad1015e><label class="form-control skeleton-text skeleton-animate" data-v-1ad1015e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ad1015e></div><div class="form-group" data-v-1ad1015e><label class="form-control skeleton-text skeleton-animate" data-v-1ad1015e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ad1015e></div><div class="form-group" data-v-1ad1015e><label class="form-control skeleton-text skeleton-animate" data-v-1ad1015e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ad1015e></div><div class="form-group" data-v-1ad1015e><label class="form-control skeleton-text skeleton-animate" data-v-1ad1015e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ad1015e></div><div class="form-group" data-v-1ad1015e><label class="form-control skeleton-text skeleton-animate" data-v-1ad1015e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ad1015e></div><div class="form-group" data-v-1ad1015e><label class="form-control skeleton-text skeleton-animate" data-v-1ad1015e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ad1015e></div><div class="form-group" data-v-1ad1015e><label class="form-control skeleton-text skeleton-animate" data-v-1ad1015e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ad1015e></div><div class="form-group" data-v-1ad1015e><label class="form-control skeleton-text skeleton-animate" data-v-1ad1015e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ad1015e></div><div class="form-group" data-v-1ad1015e><label class="form-control skeleton-text skeleton-animate" data-v-1ad1015e></label><input type="text" class="form-control skeleton skeleton-animate" data-v-1ad1015e></div>',19),c=[d],m={key:1,class:"col-md-12"},u={class:"form-group position-relative d-inline-flex align-items-center col-12 mb-2"},v=n((()=>(0,t.Lk)("label",{for:"last_name"},"Фамилия:",-1))),p={key:0,class:"invalid-tooltip"},f={class:"form-group position-relative d-inline-flex align-items-center col-12 mb-2"},b=n((()=>(0,t.Lk)("label",{for:"first_name"},"Имя:",-1))),k={key:0,class:"invalid-tooltip"},g={class:"form-group position-relative d-inline-flex align-items-center col-12 mb-2"},_=n((()=>(0,t.Lk)("label",{for:"patronymic"},"Отчество:",-1))),x={key:0,class:"invalid-tooltip"},y={class:"form-group position-relative d-inline-flex align-items-center mb-2"},h=n((()=>(0,t.Lk)("label",{for:"gender"},"Пол:",-1))),L=n((()=>(0,t.Lk)("br",null,null,-1))),F=n((()=>(0,t.Lk)("br",null,null,-1))),C={class:"form-group position-relative d-inline-flex align-items-center mb-2"},E=n((()=>(0,t.Lk)("label",{for:"date_of_birth"},"Дата рождения:",-1))),X={class:"form-group position-relative d-inline-flex align-items-center mb-2 col-6"},N=n((()=>(0,t.Lk)("label",{for:"passport_series_and_number"},"Серия и номер паспорта:",-1))),S={key:0,class:"invalid-tooltip"},Q={class:"form-group position-relative d-inline-flex align-items-center mb-2 col-5"},I=n((()=>(0,t.Lk)("label",{for:"place_of_birth"},"Страна рождения:",-1))),V={key:0,class:"invalid-tooltip"},j={class:"form-group position-relative d-inline-flex align-items-center mb-2"},w=n((()=>(0,t.Lk)("label",{for:"INN"},"ИНН:",-1))),A={key:0,class:"invalid-tooltip"},z={class:"form-group position-relative d-inline-flex align-items-center mb-2"},Y=n((()=>(0,t.Lk)("label",{for:"SNILS"},"СНИЛС:",-1))),q={key:0,class:"invalid-tooltip"},G={class:"form-group position-relative d-inline-flex align-items-center mb-2 col-5"},W=n((()=>(0,t.Lk)("label",{for:"email"},"Email:",-1))),D={key:0,class:"invalid-tooltip"},K={class:"form-group position-relative d-inline-flex align-items-center mb-2 col-5"},M=n((()=>(0,t.Lk)("label",{for:"student_login"},"Логин студента:",-1))),U={key:0,class:"invalid-tooltip"},T={class:"form-group position-relative d-inline-flex align-items-center mb-2 col-5"},$=n((()=>(0,t.Lk)("label",{for:"enrollment_order"},"Приказ о зачислении:",-1))),B={key:0,class:"invalid-tooltip"},H={class:"form-group position-relative d-inline-flex align-items-center mb-2"},J=n((()=>(0,t.Lk)("label",{for:"enrolled_date"},"Дата зачисления:",-1))),O={class:"d-flex position-relative flex-wrap"},P={class:"form-group d-inline-flex align-items-center mb-2"},R=n((()=>(0,t.Lk)("label",{for:"group_id"},"Группа:",-1))),Z=["value"],ee={key:0,class:"invalid-tooltip"},ae={class:"form-group position-relative d-inline-flex align-items-center float-none mb-2 col-3"},le=n((()=>(0,t.Lk)("label",{for:"subgroup"},"Подгруппа:",-1))),te=n((()=>(0,t.Lk)("option",{value:"Нет"},"Нет",-1))),oe=n((()=>(0,t.Lk)("option",{value:"1"},"1",-1))),se=n((()=>(0,t.Lk)("option",{value:"2"},"2",-1))),ne={key:0,class:"invalid-tooltip"},ie={class:"form-group position-relative d-inline-flex align-items-center float-none mb-2 col-5"},re=n((()=>(0,t.Lk)("label",{for:"zachetka_number"},"Номер зачётки:",-1))),de={key:0,class:"invalid-tooltip"},ce={class:"form-group position-relative d-inline-flex align-items-center float-none mb-2 col-6"},me=n((()=>(0,t.Lk)("label",{for:"phonenumber"},"Номер телефона:",-1))),ue={key:0,class:"invalid-tooltip"},ve={class:"form-group position-relative d-inline-flex align-items-center float-none mb-2 col-8"},pe=n((()=>(0,t.Lk)("label",{for:"phonenumber_rod"},"Номер телефона родителей:",-1))),fe={key:0,class:"invalid-tooltip"},be={class:"form-group mt-3"},ke=["disabled"],ge={class:"spinner-border spinner-border-sm"};function _e(e,a,l,n,d,_e){const xe=(0,t.g2)("Field"),ye=(0,t.g2)("ErrorMessage"),he=(0,t.g2)("Select2"),Le=(0,t.g2)("router-link"),Fe=(0,t.g2)("Form");return(0,t.uX)(),(0,t.CE)("div",i,[d.dataLoading?((0,t.uX)(),(0,t.CE)("div",r,c)):((0,t.uX)(),(0,t.CE)("div",m,[(0,t.bF)(Fe,{onSubmit:_e.addStudent,"validation-schema":d.schema},{default:(0,t.k6)((({errors:e})=>[(0,t.Lk)("div",null,[(0,t.Lk)("div",u,[v,(0,t.bF)(xe,{name:"last_name",type:"text",value:"",class:(0,o.C4)(["form-control",{"is-invalid":e.last_name}])},null,8,["class"]),e.last_name?((0,t.uX)(),(0,t.CE)("div",p,[(0,t.bF)(ye,{name:"last_name",class:"error-feedback"})])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",f,[b,(0,t.bF)(xe,{name:"first_name",type:"text",class:(0,o.C4)(["form-control",{"is-invalid":e.first_name}]),value:""},null,8,["class"]),e.first_name?((0,t.uX)(),(0,t.CE)("div",k,[(0,t.bF)(ye,{name:"first_name",class:"error-feedback"})])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",g,[_,(0,t.bF)(xe,{name:"patronymic",type:"text",class:(0,o.C4)(["form-control",{"is-invalid":e.patronymic}]),value:""},null,8,["class"]),e.patronymic?((0,t.uX)(),(0,t.CE)("div",x,[(0,t.bF)(ye,{name:"patronymic",class:"error-feedback"})])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",y,[h,L,(0,t.bF)(xe,{name:"gender",type:"radio",value:"m",class:(0,o.C4)(["form-check-input",{"is-invalid":e.gender}])},null,8,["class"]),(0,t.eW)("М "),(0,t.bF)(xe,{name:"gender",type:"radio",value:"f",class:(0,o.C4)(["form-check-input",{"is-invalid":e.gender}])},null,8,["class"]),(0,t.eW)("Ж "),F]),(0,t.Lk)("div",C,[E,(0,t.bF)(xe,{name:"date_of_birth",type:"date",class:(0,o.C4)(["form-control",{"is-invalid":e.date_of_birth}]),value:""},null,8,["class"])]),(0,t.Lk)("div",X,[N,(0,t.bF)(xe,{name:"passport_series_and_number",type:"text",class:(0,o.C4)(["form-control",{"is-invalid":e.passport_series_and_number}]),value:""},null,8,["class"]),e.passport_series_and_number?((0,t.uX)(),(0,t.CE)("div",S,[(0,t.bF)(ye,{name:"passport_series_and_number",class:"error-feedback"})])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",Q,[I,(0,t.bF)(xe,{name:"place_of_birth",type:"text",class:(0,o.C4)(["form-control",{"is-invalid":e.place_of_birth}]),value:""},null,8,["class"]),e.place_of_birth?((0,t.uX)(),(0,t.CE)("div",V,[(0,t.bF)(ye,{name:"place_of_birth",class:"error-feedback"})])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",j,[w,(0,t.bF)(xe,{name:"INN",type:"text",class:(0,o.C4)(["form-control",{"is-invalid":e.INN}]),value:""},null,8,["class"]),e.INN?((0,t.uX)(),(0,t.CE)("div",A,[(0,t.bF)(ye,{name:"INN",class:"error-feedback"})])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",z,[Y,(0,t.bF)(xe,{name:"SNILS",type:"text",class:(0,o.C4)(["form-control",{"is-invalid":e.SNILS}]),value:""},null,8,["class"]),e.SNILS?((0,t.uX)(),(0,t.CE)("div",q,[(0,t.bF)(ye,{name:"SNILS",class:"error-feedback"})])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",G,[W,(0,t.bF)(xe,{name:"email",type:"text",class:(0,o.C4)(["form-control",{"is-invalid":e.email}]),value:""},null,8,["class"]),e.email?((0,t.uX)(),(0,t.CE)("div",D,[(0,t.bF)(ye,{name:"email",class:"error-feedback"})])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",K,[M,(0,t.bF)(xe,{name:"student_login",type:"text",class:(0,o.C4)(["form-control",{"is-invalid":e.student_login}]),value:""},null,8,["class"]),e.student_login?((0,t.uX)(),(0,t.CE)("div",U,[(0,t.bF)(ye,{name:"student_login",class:"error-feedback"})])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",T,[$,(0,t.bF)(xe,{name:"enrollment_order",type:"text",class:(0,o.C4)(["form-control",{"is-invalid":e.enrollment_order}]),value:""},null,8,["class"]),e.enrollment_order?((0,t.uX)(),(0,t.CE)("div",B,[(0,t.bF)(ye,{name:"enrollment_order",class:"error-feedback"})])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",H,[J,(0,t.bF)(xe,{name:"enrolled_date",type:"date",class:(0,o.C4)(["form-control",{"is-invalid":e.enrolled_date}]),value:""},null,8,["class"])]),(0,t.Lk)("div",O,[(0,t.Lk)("div",P,[R,(0,t.bF)(he,{class:(0,o.C4)({"form-control is-invalid":e.group_id}),modelValue:d.myValue,"onUpdate:modelValue":a[0]||(a[0]=e=>d.myValue=e),options:d.groups,settings:{theme:"bootstrap-5",width:"100%"}},null,8,["class","modelValue","options"]),(0,t.bF)(xe,{name:"group_id",as:"select",modelValue:d.myValue,"onUpdate:modelValue":a[1]||(a[1]=e=>d.myValue=e),hidden:""},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(d.groups,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e.id},(0,o.v_)(e.text),9,Z)))),128))])),_:1},8,["modelValue"]),e.group_id?((0,t.uX)(),(0,t.CE)("div",ee,[(0,t.bF)(ye,{name:"group_id",class:"error-feedback"})])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",ae,[le,(0,t.bF)(xe,{name:"subgroup",as:"select",class:"form-select"},{default:(0,t.k6)((()=>[te,oe,se])),_:1}),e.subgroup?((0,t.uX)(),(0,t.CE)("div",ne,[(0,t.bF)(ye,{name:"subgroup",class:"error-feedback"})])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",ie,[re,(0,t.bF)(xe,{name:"zachetka_number",type:"text",class:(0,o.C4)(["form-control",{"is-invalid":e.zachetka_number}])},null,8,["class"]),e.zachetka_number?((0,t.uX)(),(0,t.CE)("div",de,[(0,t.bF)(ye,{name:"zachetka_number",class:"error-feedback"})])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",ce,[me,(0,t.bF)(xe,{name:"phonenumber",type:"text",class:(0,o.C4)(["form-control",{"is-invalid":e.phonenumber}])},null,8,["class"]),e.phonenumber?((0,t.uX)(),(0,t.CE)("div",ue,[(0,t.bF)(ye,{name:"phonenumber",class:"error-feedback"})])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",ve,[pe,(0,t.bF)(xe,{name:"phonenumber_rod",type:"text",class:(0,o.C4)(["form-control",{"is-invalid":e.phonenumber_rod}])},null,8,["class"]),e.phonenumber_rod?((0,t.uX)(),(0,t.CE)("div",fe,[(0,t.bF)(ye,{name:"phonenumber_rod",class:"error-feedback"})])):(0,t.Q3)("",!0)])]),(0,t.Lk)("div",be,[(0,t.bF)(Le,{to:"/students",class:"btn btn-secondary ml-2 float-start"},{default:(0,t.k6)((()=>[(0,t.eW)("Отмена")])),_:1}),(0,t.Lk)("button",{class:"btn btn-primary btn-block float-end",disabled:d.loading},[(0,t.bo)((0,t.Lk)("span",ge,null,512),[[s.aG,d.loading]]),(0,t.eW)(" Добавить студента ")],8,ke)])])])),_:1},8,["onSubmit","validation-schema"]),d.message?((0,t.uX)(),(0,t.CE)("div",{key:0,class:(0,o.C4)(["alert",d.successful?"alert-success":"alert-danger"])},(0,o.v_)(d.message),3)):(0,t.Q3)("",!0)]))])}var xe=l(482),ye=l(9041),he=l(619),Le=l(7411),Fe={setup(){const e=(0,Le.dj)();return{toast:e}},name:"AddStudent",components:{Form:xe.lV,Field:xe.D0,ErrorMessage:xe.Kw},data(){const e=ye.Ik().shape({last_name:ye.Yj().required("Требуется фамилия"),date_of_birth:ye.Yj().required("Требуется дату рождения"),email:ye.Yj().email("Некорректный адрес электронной почты"),enrolled_date:ye.Yj().required("Требуется дату зачисления"),group_id:ye.Yj().required("Требуется указать группу")});return{successful:!1,loading:!1,dataLoading:!0,message:"",schema:e,groups:null,courses:[{id:"Нет",text:"Нет"},{id:"1",text:"1"},{id:"2",text:"2"}],myValue:"",sel_gr:null}},computed:{},mounted(){},methods:{async addStudent(e){try{this.loading=!0;const a=await he.A.addStudent(e.last_name,e.first_name,e.patronymic,e.gender,e.date_of_birth,e.passport_series_and_number,e.INN,e.SNILS,e.place_of_birth,e.email,e.student_login,e.enrollment_order,e.enrolled_date,e.group_id,e.subgroup,e.zachetka_number,e.phonenumber,e.phonenumber_rod);a.data,this.loading=!1,this.successful=!0,this.toast.success("Успешно добавили студента!")}catch(a){this.message="Ошибка",this.toast.error("Ошибка добавления студента"),console.error("Error updating student details:",a)}},async loadGroupsData(){try{const e=await he.A.getGroupsAsIdText();this.groups=Array.isArray(e.data)?e.data:[e.data],this.dataLoading=!1;const a=this.$route.params.groupName;console.log(this.groups),this.myValue=this.groups.find((e=>e.text===a)).id,console.log(this.myValue)}catch(e){console.error("Error loading students data:",e)}}},created(){this.loadGroupsData()}},Ce=l(1241);const Ee=(0,Ce.A)(Fe,[["render",_e],["__scopeId","data-v-1ad1015e"]]);var Xe=Ee}}]);
//# sourceMappingURL=2672.984a7476.js.map